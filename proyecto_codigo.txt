=== PROYECTO SPRING BOOT - CODIGO COMPLETO === 
Fecha: 28/10/2025 16:03:47,29 
 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\AdministradorApplication.java 
================================= 
package com.cibertec.proyecto;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class AdministradorApplication {

	public static void main(String[] args) {
		SpringApplication.run(AdministradorApplication.class, args);
	}

}
 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\AdminController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.Usuario;
import com.cibertec.proyecto.repository.UsuarioRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;

@Controller
@RequestMapping("/admin")
public class AdminController {

    @Autowired
    private UsuarioRepository usuarioRepository;

    // P√ÅGINA PRINCIPAL DEL ADMIN - REDIRIGIR AL DASHBOARD
    @GetMapping({"", "/"})
    public String adminHome() {
        return "redirect:/admin/dashboard";
    }

    // 1. LISTA MEJORADA DE USUARIOS
    @GetMapping("/usuarios")
    public String listaUsuarios(Model model) {
        model.addAttribute("usuarios", usuarioRepository.findAll());
        model.addAttribute("totalUsuarios", usuarioRepository.count());
        
        // Contar usuarios activos/inactivos
        long usuariosActivos = usuarioRepository.findAll().stream()
                .filter(u -> u.getEstado() == 1)
                .count();
        long usuariosInactivos = usuarioRepository.findAll().stream()
                .filter(u -> u.getEstado() == 0)
                .count();
        
        model.addAttribute("usuariosActivos", usuariosActivos);
        model.addAttribute("usuariosInactivos", usuariosInactivos);
        
        return "admin/usuarios";
    }

    // 2. FORMULARIO para nuevo usuario
    @GetMapping("/usuarios/nuevo")
    public String formularioNuevoUsuario(Model model) {
        model.addAttribute("usuario", new Usuario());
        return "admin/form-usuario";
    }

    // 3. GUARDAR usuario nuevo
    @PostMapping("/usuarios/guardar")
    public String guardarUsuario(@ModelAttribute Usuario usuario) {
        usuarioRepository.save(usuario);
        return "redirect:/admin/usuarios?exito";
    }

    // 4. CAMBIAR ESTADO (activar/desactivar)
    @GetMapping("/usuarios/estado/{id}")
    public String cambiarEstado(@PathVariable Integer id) {
        usuarioRepository.findById(id).ifPresent(usuario -> {
            usuario.setEstado(usuario.getEstado() == 1 ? 0 : 1);
            usuarioRepository.save(usuario);
        });
        return "redirect:/admin/usuarios";
    }
    
    // 5. EDITAR USUARIO (formulario)
    @GetMapping("/usuarios/editar/{id}")
    public String formularioEditarUsuario(@PathVariable Integer id, Model model) {
        usuarioRepository.findById(id).ifPresent(usuario -> {
            model.addAttribute("usuario", usuario);
        });
        return "admin/form-usuario-editar";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\AdminDashboardController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.Cita;
import com.cibertec.proyecto.entity.Rol;
import com.cibertec.proyecto.entity.Usuario;
import com.cibertec.proyecto.service.*;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

@Controller
@RequestMapping("/admin")
public class AdminDashboardController {

    @Autowired
    private UsuarioService usuarioService;
    
    @Autowired
    private MedicoService medicoService;
    
    @Autowired
    private PacienteService pacienteService;
    
    @Autowired
    private CitaService citaService;
    
    @Autowired
    private EspecialidadService especialidadService;

    // üè† DASHBOARD PRINCIPAL
    @GetMapping("/dashboard")
    public String dashboard(Model model) {
        // Obtener estad√≠sticas
        Map<String, Object> estadisticas = obtenerEstadisticas();
        model.addAttribute("estadisticas", estadisticas);
        
        return "admin/dashboard";
    }

    // üìÖ GESTI√ìN DE CITAS - VISTA ADMIN
    @GetMapping("/citas")
    public String gestionCitas(Model model) {
        // Obtener todas las citas del sistema
        List<Cita> citas = citaService.listarTodas();
        model.addAttribute("citas", citas);
        
        return "admin/citas";
    }

    // üìà REPORTES DEL SISTEMA
    @GetMapping("/reportes")
    public String reportesSistema(Model model) {
        // Obtener datos para reportes
        Map<String, Object> reportes = obtenerDatosReportes();
        model.addAttribute("reportes", reportes);
        
        return "admin/reportes";
    }

    // üìä M√âTODO PARA OBTENER ESTAD√çSTICAS
    private Map<String, Object> obtenerEstadisticas() {
        Map<String, Object> stats = new HashMap<>();
        
        // Estad√≠sticas b√°sicas
        stats.put("totalUsuarios", usuarioService.listarTodos().size());
        stats.put("totalMedicos", medicoService.listarTodos().size());
        stats.put("totalPacientes", pacienteService.listarTodos().size());
        stats.put("totalCitas", citaService.listarTodas().size());
        stats.put("totalEspecialidades", especialidadService.listarTodas().size());
        
        // Contar citas por estado
        long citasPendientes = citaService.listarTodas().stream()
                .filter(c -> c.getEstado().name().equals("Programada"))
                .count();
        long citasCompletadas = citaService.listarTodas().stream()
                .filter(c -> c.getEstado().name().equals("Completada"))
                .count();
        long citasCanceladas = citaService.listarTodas().stream()
                .filter(c -> c.getEstado().name().equals("Cancelada"))
                .count();
        
        stats.put("citasPendientes", citasPendientes);
        stats.put("citasCompletadas", citasCompletadas);
        stats.put("citasCanceladas", citasCanceladas);
        
        return stats;
    }

    // üìà M√âTODO PARA OBTENER DATOS DE REPORTES
    private Map<String, Object> obtenerDatosReportes() {
        Map<String, Object> reportes = new HashMap<>();
        
        // Usuarios por rol
        List<Usuario> usuarios = usuarioService.listarTodos();
        Map<String, Long> usuariosPorRol = new HashMap<>();
        
        for (Usuario usuario : usuarios) {
            if (usuario.getRoles() != null) {
                for (Rol rol : usuario.getRoles()) {
                    String nombreRol = rol.getNombre();
                    usuariosPorRol.put(nombreRol, usuariosPorRol.getOrDefault(nombreRol, 0L) + 1);
                }
            }
        }
        reportes.put("usuariosPorRol", usuariosPorRol);
        
        // Citas por m√©dico
        List<Cita> citas = citaService.listarTodas();
        Map<String, Long> citasPorMedico = new HashMap<>();
        
        for (Cita cita : citas) {
            if (cita.getMedico() != null) {
                String nombreMedico = cita.getMedico().getNombreCompleto();
                citasPorMedico.put(nombreMedico, citasPorMedico.getOrDefault(nombreMedico, 0L) + 1);
            }
        }
        reportes.put("citasPorMedico", citasPorMedico);
        
        // Citas por especialidad
        Map<String, Long> citasPorEspecialidad = new HashMap<>();
        for (Cita cita : citas) {
            if (cita.getMedico() != null && cita.getMedico().getEspecialidad() != null) {
                String especialidad = cita.getMedico().getEspecialidad().getNombre();
                citasPorEspecialidad.put(especialidad, citasPorEspecialidad.getOrDefault(especialidad, 0L) + 1);
            }
        }
        reportes.put("citasPorEspecialidad", citasPorEspecialidad);
        
        // Citas por estado (ya lo tenemos)
        reportes.put("citasPendientes", citas.stream().filter(c -> c.getEstado().name().equals("Programada")).count());
        reportes.put("citasCompletadas", citas.stream().filter(c -> c.getEstado().name().equals("Completada")).count());
        reportes.put("citasCanceladas", citas.stream().filter(c -> c.getEstado().name().equals("Cancelada")).count());
        
        return reportes;
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\AdminMedicoController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.Medico;
import com.cibertec.proyecto.service.MedicoService;
import com.cibertec.proyecto.service.EspecialidadService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@Controller
@RequestMapping("/admin")
public class AdminMedicoController {

    @Autowired
    private MedicoService medicoService;

    @Autowired
    private EspecialidadService especialidadService;

    // üìã LISTA DE M√âDICOS - VISTA ADMIN
    @GetMapping("/medicos")
    public String listaMedicos(Model model) {
        List<Medico> medicos = medicoService.listarTodos();
        model.addAttribute("medicos", medicos);
        model.addAttribute("totalMedicos", medicos.size());
        model.addAttribute("especialidades", especialidadService.listarTodas());
        
        return "admin/medicos";
    }

    // üîç BUSCAR M√âDICOS POR ESPECIALIDAD
    @GetMapping("/medicos/buscar")
    public String buscarMedicos(@RequestParam(required = false) Integer especialidadId, Model model) {
        List<Medico> medicos;
        
        if (especialidadId != null) {
            medicos = medicoService.buscarPorEspecialidad(especialidadId);
        } else {
            medicos = medicoService.listarTodos();
        }
        
        model.addAttribute("medicos", medicos);
        model.addAttribute("totalMedicos", medicos.size());
        model.addAttribute("especialidades", especialidadService.listarTodas());
        model.addAttribute("especialidadSeleccionada", especialidadId);
        
        return "admin/medicos";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\AdminPacienteController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.Paciente;
import com.cibertec.proyecto.service.PacienteService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;

import java.util.List;
import java.util.Optional;

@Controller
@RequestMapping("/admin")
public class AdminPacienteController {

    @Autowired
    private PacienteService pacienteService;

    // üìã LISTA COMPLETA DE PACIENTES - CON MANEJO DE ERRORES
    @GetMapping("/pacientes")
    public String listaPacientes(Model model) {
        try {
            List<Paciente> pacientes = pacienteService.listarTodos();
            model.addAttribute("pacientes", pacientes);
            model.addAttribute("totalPacientes", pacientes.size());
            
            // Estad√≠sticas
            long conSeguro = pacientes.stream()
                    .filter(p -> p.getSeguroMedico() != null && !p.getSeguroMedico().isEmpty())
                    .count();
            long sinSeguro = pacientes.size() - conSeguro;
            
            model.addAttribute("pacientesConSeguro", conSeguro);
            model.addAttribute("pacientesSinSeguro", sinSeguro);
            
            return "admin/pacientes";
        } catch (Exception e) {
            model.addAttribute("error", "Error al cargar los pacientes: " + e.getMessage());
            return "admin/pacientes";
        }
    }

    // üëÅÔ∏è VER DETALLES DE PACIENTE - MEJORADO
    @GetMapping("/pacientes/detalles/{id}")
    public String verDetallesPaciente(@PathVariable Integer id, Model model) {
        try {
            Optional<Paciente> pacienteOpt = pacienteService.buscarPorId(id);
            if (pacienteOpt.isPresent()) {
                model.addAttribute("paciente", pacienteOpt.get());
                return "admin/detalles-paciente";
            } else {
                model.addAttribute("error", "Paciente no encontrado");
                return "redirect:/admin/pacientes";
            }
        } catch (Exception e) {
            model.addAttribute("error", "Error al cargar detalles: " + e.getMessage());
            return "redirect:/admin/pacientes";
        }
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\CitaController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.Cita;
import com.cibertec.proyecto.service.CitaService;
import com.cibertec.proyecto.service.PacienteService;
import com.cibertec.proyecto.service.MedicoService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;
import java.util.List;

@Controller
@RequestMapping("/citas")
public class CitaController {
    
    @Autowired
    private CitaService citaService;
    
    @Autowired
    private PacienteService pacienteService;
    
    @Autowired
    private MedicoService medicoService;
    
    // 1. LISTA GENERAL (para admin)
    @GetMapping
    public String listarCitas(Model model) {
        model.addAttribute("citas", citaService.listarTodas());
        return "citas/lista";
    }
    
 // 2. MIS CITAS (paciente)
    @GetMapping("/mis-citas")
    public String misCitas(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer pacienteId = 1; // ID del paciente en sesi√≥n
        
        List<Cita> citas = citaService.buscarPorPaciente(pacienteId);
        model.addAttribute("citas", citas);
        return "citas/mis-citas";
    }
    
    // 3. AGENDA M√âDICA (m√©dico)
    @GetMapping("/agenda")
    public String agendaMedico(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer medicoId = 1; // ID del m√©dico en sesi√≥n
        
        List<Cita> citas = citaService.buscarPorMedico(medicoId);
        model.addAttribute("citas", citas);
        return "citas/agenda";
    }
    
    // 4. FORMULARIO NUEVA CITA
    @GetMapping("/nueva")
    public String formularioNuevaCita(Model model) {
        model.addAttribute("cita", new Cita());
        model.addAttribute("pacientes", pacienteService.listarTodos());
        model.addAttribute("medicos", medicoService.listarTodos());
        return "citas/form-nueva";
    }
    
    // 5. GUARDAR NUEVA CITA
    @PostMapping("/guardar")
    public String guardarCita(@RequestParam Integer pacienteId,
                             @RequestParam Integer medicoId,
                             @RequestParam String fechaHora,
                             @RequestParam String motivo) {
        
        citaService.programarCita(pacienteId, medicoId, fechaHora, motivo);
        return "redirect:/citas/mis-citas?exito";
    }
    
    // 6. CANCELAR CITA
    @GetMapping("/cancelar/{id}")
    public String cancelarCita(@PathVariable Integer id) {
        citaService.cancelarCita(id);
        return "redirect:/citas/mis-citas?cancelada";
    }
    
    // 7. COMPLETAR CITA (m√©dico)
    @GetMapping("/completar/{id}")
    public String completarCita(@PathVariable Integer id) {
        citaService.completarCita(id);
        return "redirect:/citas/agenda?completada";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\HistorialMedicoController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.HistorialMedico;
import com.cibertec.proyecto.service.HistorialMedicoService;
import com.cibertec.proyecto.service.PacienteService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import java.util.List;

@Controller
@RequestMapping("/historial")
public class HistorialMedicoController {
    
    @Autowired
    private HistorialMedicoService historialMedicoService;
    
    @Autowired
    private PacienteService pacienteService;
    
    // MI HISTORIAL (paciente)
    @GetMapping("/mi-historial")
    public String miHistorial(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer pacienteId = 1; // ID del paciente en sesi√≥n
        
        List<HistorialMedico> historial = historialMedicoService.buscarPorPaciente(pacienteId);
        model.addAttribute("historial", historial);
        model.addAttribute("paciente", pacienteService.buscarPorId(pacienteId).orElse(null));
        
        return "historial/mi-historial";
    }
    
    // HISTORIAL COMPLETO (admin/m√©dicos)
    @GetMapping
    public String listarHistorial(Model model) {
        model.addAttribute("historial", historialMedicoService.listarTodos());
        return "historial/lista";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\MedicoController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.Cita;
import com.cibertec.proyecto.entity.Medico;
import com.cibertec.proyecto.entity.Paciente;
import com.cibertec.proyecto.entity.Especialidad;
import com.cibertec.proyecto.service.CitaService;
import com.cibertec.proyecto.service.MedicoService;
import com.cibertec.proyecto.service.EspecialidadService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.mvc.support.RedirectAttributes;

import java.util.List;
import java.util.Optional;
import java.util.Set;
import java.util.stream.Collectors;

@Controller
@RequestMapping("/medico")
public class MedicoController {

    @Autowired
    private MedicoService medicoService;

    @Autowired
    private CitaService citaService;

    @Autowired
    private EspecialidadService especialidadService;

    // MI AGENDA - Vista mejorada
    @GetMapping("/agenda")
    public String miAgenda(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer medicoId = 1; // ID del m√©dico en sesi√≥n
        
        Optional<Medico> medico = medicoService.buscarPorId(medicoId);
        if (medico.isPresent()) {
            List<Cita> citas = citaService.buscarPorMedico(medicoId);
            
            model.addAttribute("medico", medico.get());
            model.addAttribute("citas", citas);
            
            // Estad√≠sticas para la agenda
            long citasHoy = citas.stream()
                .filter(c -> c.getEstado().name().equals("Programada"))
                .count();
            model.addAttribute("citasHoy", citasHoy);
            
            return "medico/agenda";
        } else {
            model.addAttribute("error", "No tienes un perfil de m√©dico registrado");
            return "medico/perfil";
        }
    }

    // MIS PACIENTES - Lista de pacientes atendidos
    @GetMapping("/mis-pacientes")
    public String misPacientes(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer medicoId = 1; // ID del m√©dico en sesi√≥n
        
        Optional<Medico> medico = medicoService.buscarPorId(medicoId);
        if (medico.isPresent()) {
            List<Cita> citas = citaService.buscarPorMedico(medicoId);
            
            // Extraer pacientes √∫nicos
            Set<Paciente> pacientesUnicos = citas.stream()
                .map(Cita::getPaciente)
                .collect(Collectors.toSet());
            
            model.addAttribute("medico", medico.get());
            model.addAttribute("pacientes", pacientesUnicos);
            model.addAttribute("totalPacientes", pacientesUnicos.size());
            
            return "medico/mis-pacientes";
        } else {
            model.addAttribute("error", "No tienes un perfil de m√©dico registrado");
            return "medico/perfil";
        }
    }

    // PERFIL DEL M√âDICO - Vista mejorada
    @GetMapping("/perfil")
    public String perfilMedico(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer usuarioId = 2; // ID del usuario "medico01" en tu BD
        
        Optional<Medico> medico = medicoService.buscarPorUsuarioId(usuarioId);
        
        if (medico.isPresent()) {
            // Obtener estad√≠sticas para el perfil
            List<Cita> citas = citaService.buscarPorMedico(medico.get().getId());
            Set<Paciente> pacientesUnicos = citas.stream()
                .map(Cita::getPaciente)
                .collect(Collectors.toSet());
            
            model.addAttribute("medico", medico.get());
            model.addAttribute("especialidades", especialidadService.listarTodas());
            model.addAttribute("totalCitas", citas.size());
            model.addAttribute("totalPacientes", pacientesUnicos.size());
            
            return "medico/perfil";
        } else {
            model.addAttribute("error", "No se encontr√≥ perfil de m√©dico registrado");
            return "medico/perfil";
        }
    }

    // LISTAR TODOS LOS M√âDICOS
    @GetMapping("/lista")
    public String listaMedicos(Model model) {
        model.addAttribute("medicos", medicoService.listarTodos());
        model.addAttribute("especialidades", especialidadService.listarTodas());
        return "medico/lista";
    }

    // BUSCAR M√âDICOS
    @GetMapping("/buscar")
    public String buscarMedicos(@RequestParam(required = false) Integer especialidadId,
                               @RequestParam(required = false) String nombre,
                               Model model) {
        List<Medico> medicos;
        
        if (especialidadId != null) {
            medicos = medicoService.buscarPorEspecialidad(especialidadId);
        } else if (nombre != null && !nombre.trim().isEmpty()) {
            medicos = medicoService.buscarPorNombre(nombre);
        } else {
            medicos = medicoService.listarTodos();
        }
        
        model.addAttribute("medicos", medicos);
        model.addAttribute("especialidades", especialidadService.listarTodas());
        return "medico/buscar";
    }

    // ACTUALIZAR ESPECIALIDAD DEL M√âDICO
    @PostMapping("/actualizar-especialidad")
    public String actualizarEspecialidad(@RequestParam Integer medicoId,
                                        @RequestParam Integer especialidadId,
                                        RedirectAttributes redirectAttributes) {
        try {
            Optional<Medico> medicoOpt = medicoService.buscarPorId(medicoId);
            Optional<Especialidad> especialidadOpt = especialidadService.buscarPorId(especialidadId);
            
            if (medicoOpt.isPresent() && especialidadOpt.isPresent()) {
                Medico medico = medicoOpt.get();
                medico.setEspecialidad(especialidadOpt.get());
                medicoService.guardar(medico);
                
                redirectAttributes.addFlashAttribute("success", "Especialidad actualizada exitosamente");
            } else {
                redirectAttributes.addFlashAttribute("error", "M√©dico o especialidad no encontrados");
            }
            return "redirect:/medico/lista";
        } catch (Exception e) {
            redirectAttributes.addFlashAttribute("error", "Error al actualizar especialidad: " + e.getMessage());
            return "redirect:/medico/lista";
        }
    }

    // M√âTODO EXISTENTE (para mantener compatibilidad)
    @GetMapping("/pacientes")
    public String misPacientesOld(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer usuarioId = 2;
        
        Optional<Medico> medico = medicoService.buscarPorUsuarioId(usuarioId);
        if (medico.isPresent()) {
            model.addAttribute("medico", medico.get());
            model.addAttribute("mensaje", "Funcionalidad de pacientes en desarrollo");
            return "medico/pacientes";
        } else {
            model.addAttribute("error", "No tienes un perfil de m√©dico registrado");
            return "medico/perfil";
        }
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\controller\PacienteController.java 
================================= 
package com.cibertec.proyecto.controller;

import com.cibertec.proyecto.entity.Paciente;
import com.cibertec.proyecto.entity.Medico;
import com.cibertec.proyecto.service.EspecialidadService;
import com.cibertec.proyecto.service.MedicoService;
import com.cibertec.proyecto.service.PacienteService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.mvc.support.RedirectAttributes;

import java.util.List;
import java.util.Optional;

@Controller
@RequestMapping("/paciente")
public class PacienteController {

    @Autowired
    private PacienteService pacienteService;

    @Autowired
    private MedicoService medicoService;

    @Autowired
    private EspecialidadService especialidadService;

    // 1. PERFIL DEL PACIENTE - Vista
    @GetMapping("/perfil")
    public String perfilPaciente(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer usuarioId = 4; // ID del usuario "cliente01" en tu BD
        
        Optional<Paciente> paciente = pacienteService.buscarPorUsuarioId(usuarioId);
        
        if (paciente.isPresent()) {
            // Verificar que la persona no sea null
            if (paciente.get().getPersona() == null) {
                model.addAttribute("error", "Datos de persona no encontrados");
                return "paciente/registro";
            }
            model.addAttribute("paciente", paciente.get());
            return "paciente/perfil";
        } else {
            model.addAttribute("error", "No tienes un perfil de paciente registrado");
            return "paciente/registro";
        }
    }

    // 2. FORMULARIO DE REGISTRO DE PACIENTE
    @GetMapping("/registro")
    public String formularioRegistro(Model model) {
        model.addAttribute("paciente", new Paciente());
        return "paciente/registro";
    }

    // 3. REGISTRAR PACIENTE
    @GetMapping("/registrar")
    public String registrarPaciente() {
        // Redirigir al perfil despu√©s del registro
        return "redirect:/paciente/perfil";
    }

    // 4. LISTAR TODOS LOS PACIENTES (para admin/recepci√≥n)
    @GetMapping("/lista")
    public String listaPacientes(Model model) {
        model.addAttribute("pacientes", pacienteService.listarTodos());
        return "paciente/lista";
    }
    
    // 5. ACTUALIZAR PERFIL DE PACIENTE
    @GetMapping("/actualizar")
    public String actualizarPerfil() {
        return "redirect:/paciente/perfil";
    }

    // 6. BUSCAR M√âDICOS - Vista y Procesamiento
    @GetMapping("/buscar-medicos")
    public String buscarMedicos(
            @RequestParam(required = false) Integer especialidadId,
            @RequestParam(required = false) String nombre,
            Model model) {
        
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer usuarioId = 4;
        
        Optional<Paciente> paciente = pacienteService.buscarPorUsuarioId(usuarioId);
        if (paciente.isPresent()) {
            model.addAttribute("paciente", paciente.get());
            
            // L√≥gica de b√∫squeda
            List<Medico> medicos;
            if (especialidadId != null) {
                medicos = medicoService.buscarPorEspecialidad(especialidadId);
                model.addAttribute("especialidadSeleccionada", especialidadId);
            } else if (nombre != null && !nombre.trim().isEmpty()) {
                medicos = medicoService.buscarPorNombre(nombre);
                model.addAttribute("nombreBuscado", nombre);
            } else {
                medicos = medicoService.listarTodos();
            }
            
            model.addAttribute("medicos", medicos);
            model.addAttribute("especialidades", especialidadService.listarTodas());
            return "paciente/buscar-medicos";
        } else {
            model.addAttribute("error", "No tienes un perfil de paciente registrado");
            return "paciente/perfil";
        }
    }

    // M√©todo POST alternativo para b√∫squeda (opcional)
    @PostMapping("/buscar-medicos")
    public String procesarBusquedaMedicos(
            @RequestParam(required = false) Integer especialidadId,
            @RequestParam(required = false) String nombre,
            RedirectAttributes redirectAttributes) {
        
        StringBuilder parametros = new StringBuilder();
        if (especialidadId != null) {
            parametros.append("especialidadId=").append(especialidadId);
        }
        if (nombre != null && !nombre.trim().isEmpty()) {
            if (parametros.length() > 0) parametros.append("&");
            parametros.append("nombre=").append(nombre);
        }
        
        return "redirect:/paciente/buscar-medicos?" + parametros.toString();
    }

    // 7. MIS CITAS - Vista
    @GetMapping("/citas")
    public String misCitas(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer usuarioId = 4;
        
        Optional<Paciente> paciente = pacienteService.buscarPorUsuarioId(usuarioId);
        if (paciente.isPresent()) {
            model.addAttribute("paciente", paciente.get());
            model.addAttribute("mensaje", "Funcionalidad de citas en desarrollo");
            return "paciente/citas";
        } else {
            model.addAttribute("error", "No tienes un perfil de paciente registrado");
            return "paciente/perfil";
        }
    }

    // 8. EDITAR PERFIL - Vista
    @GetMapping("/editar")
    public String editarPerfil(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer usuarioId = 4;
        
        Optional<Paciente> paciente = pacienteService.buscarPorUsuarioId(usuarioId);
        if (paciente.isPresent()) {
            model.addAttribute("paciente", paciente.get());
            return "paciente/editar-perfil";
        } else {
            model.addAttribute("error", "No tienes un perfil de paciente registrado");
            return "paciente/perfil";
        }
    }

    // 9. MI HISTORIAL - Vista
    @GetMapping("/historial")
    public String miHistorial(Model model) {
        // Para pruebas - cambiar por usuario de sesi√≥n despu√©s
        Integer usuarioId = 4;
        
        Optional<Paciente> paciente = pacienteService.buscarPorUsuarioId(usuarioId);
        if (paciente.isPresent()) {
            model.addAttribute("paciente", paciente.get());
            model.addAttribute("mensaje", "Funcionalidad de historial en desarrollo");
            return "paciente/historial";
        } else {
            model.addAttribute("error", "No tienes un perfil de paciente registrado");
            return "paciente/perfil";
        }
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\Cita.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;
import java.util.Date;

@Entity
@Table(name = "citas")
public class Cita {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    @ManyToOne
    @JoinColumn(name = "paciente_id")
    private Paciente paciente;
    
    @ManyToOne
    @JoinColumn(name = "medico_id")
    private Medico medico;
    
    @Temporal(TemporalType.TIMESTAMP)
    @Column(name = "fecha_hora")
    private Date fechaHora;
    
    private String motivo;
    
    @Enumerated(EnumType.STRING)
    private EstadoCita estado;
    
    @Temporal(TemporalType.TIMESTAMP)
    @Column(name = "fecha_registro")
    private Date fechaRegistro;
    
    // Constructor
    public Cita() {
        this.fechaRegistro = new Date();
        this.estado = EstadoCita.Programada;  // Ahora con P may√∫scula
    }
    
    // Getters y Setters (mantener igual)
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public Paciente getPaciente() { return paciente; }
    public void setPaciente(Paciente paciente) { this.paciente = paciente; }
    
    public Medico getMedico() { return medico; }
    public void setMedico(Medico medico) { this.medico = medico; }
    
    public Date getFechaHora() { return fechaHora; }
    public void setFechaHora(Date fechaHora) { this.fechaHora = fechaHora; }
    
    public String getMotivo() { return motivo; }
    public void setMotivo(String motivo) { this.motivo = motivo; }
    
    public EstadoCita getEstado() { return estado; }
    public void setEstado(EstadoCita estado) { this.estado = estado; }
    
    public Date getFechaRegistro() { return fechaRegistro; }
    public void setFechaRegistro(Date fechaRegistro) { this.fechaRegistro = fechaRegistro; }
    
    // M√©todos helper
    public String getNombrePaciente() {
        return paciente != null ? paciente.getNombreCompleto() : "";
    }
    
    public String getNombreMedico() {
        return medico != null ? medico.getNombreCompleto() : "";
    }
    
    public String getEspecialidadMedico() {
        return medico != null ? medico.getEspecialidadNombre() : "";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\Especialidad.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "especialidades")
public class Especialidad {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    private String nombre;
    private String descripcion;
    
    // Constructor
    public Especialidad() {}
    
    // Getters y Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public String getNombre() { return nombre; }
    public void setNombre(String nombre) { this.nombre = nombre; }
    
    public String getDescripcion() { return descripcion; }
    public void setDescripcion(String descripcion) { this.descripcion = descripcion; }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\EstadoCita.java 
================================= 
package com.cibertec.proyecto.entity;

public enum EstadoCita {
    Programada,    // Con P may√∫scula (como est√° en la BD)
    Completada,    // Con C may√∫scula  
    Cancelada      // Con C may√∫scula
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\HistorialMedico.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;
import java.util.Date;

@Entity
@Table(name = "historial_medico")
public class HistorialMedico {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    @ManyToOne
    @JoinColumn(name = "cita_id")
    private Cita cita;
    
    @Column(columnDefinition = "TEXT")
    private String notas;
    
    private String archivosAdjuntos;
    
    @Temporal(TemporalType.TIMESTAMP)
    @Column(name = "fecha_registro")
    private Date fechaRegistro;
    
    // Constructor
    public HistorialMedico() {
        this.fechaRegistro = new Date();
    }
    
    // Getters y Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public Cita getCita() { return cita; }
    public void setCita(Cita cita) { this.cita = cita; }
    
    public String getNotas() { return notas; }
    public void setNotas(String notas) { this.notas = notas; }
    
    public String getArchivosAdjuntos() { return archivosAdjuntos; }
    public void setArchivosAdjuntos(String archivosAdjuntos) { this.archivosAdjuntos = archivosAdjuntos; }
    
    public Date getFechaRegistro() { return fechaRegistro; }
    public void setFechaRegistro(Date fechaRegistro) { this.fechaRegistro = fechaRegistro; }
    
    // M√©todos helper
    public String getNombreMedico() {
        return cita != null && cita.getMedico() != null ? cita.getMedico().getNombreCompleto() : "";
    }
    
    public String getEspecialidadMedico() {
        return cita != null && cita.getMedico() != null ? cita.getMedico().getEspecialidadNombre() : "";
    }
    
    public Date getFechaCita() {
        return cita != null ? cita.getFechaHora() : null;
    }
    
    public String getMotivoCita() {
        return cita != null ? cita.getMotivo() : "";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\Medico.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "medicos")
public class Medico {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    @OneToOne
    @JoinColumn(name = "id_persona")
    private Persona persona;
    
    @ManyToOne
    @JoinColumn(name = "especialidad_id")
    private Especialidad especialidad;
    
    // Constructor
    public Medico() {}
    
    // Getters y Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public Persona getPersona() { return persona; }
    public void setPersona(Persona persona) { this.persona = persona; }
    
    public Especialidad getEspecialidad() { return especialidad; }
    public void setEspecialidad(Especialidad especialidad) { this.especialidad = especialidad; }
    
    // M√©todo helper para obtener datos de la persona
    public String getNombreCompleto() {
        return persona != null ? persona.getNombreCompleto() : "";
    }
    
    public String getEspecialidadNombre() {
        return especialidad != null ? especialidad.getNombre() : "";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\Paciente.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "pacientes")
public class Paciente {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    @OneToOne
    @JoinColumn(name = "id_persona")
    private Persona persona;
    
    @Column(name = "seguro_medico")
    private String seguroMedico;
    
    // Constructor
    public Paciente() {}
    
    // Getters y Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public Persona getPersona() { return persona; }
    public void setPersona(Persona persona) { this.persona = persona; }
    
    public String getSeguroMedico() { return seguroMedico; }
    public void setSeguroMedico(String seguroMedico) { this.seguroMedico = seguroMedico; }
    
    // M√©todo helper para obtener datos de la persona
    public String getNombreCompleto() {
        return persona != null ? persona.getNombreCompleto() : "";
    }
    
    public String getDni() {
        return persona != null ? persona.getDni() : "";
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\Persona.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;
import java.util.Date;

@Entity
@Table(name = "personas")
public class Persona {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    @OneToOne
    @JoinColumn(name = "id_usuario")
    private Usuario usuario;
    
    private String dni;
    private String nombre;
    private String apellido;
    
    @Temporal(TemporalType.DATE)
    @Column(name = "fecha_nacimiento")
    private Date fechaNacimiento;
    
    private String genero;
    private String telefono;
    private String direccion;
    private String distrito;
    private String provincia;
    private String departamento;
    private String email;
    
    @Temporal(TemporalType.TIMESTAMP)
    @Column(name = "fecha_registro")
    private Date fechaRegistro;
    
    // Relaci√≥n con Paciente (si existe)
    @OneToOne(mappedBy = "persona")
    private Paciente paciente;
    
    // Relaci√≥n con Medico (si existe)
    @OneToOne(mappedBy = "persona")
    private Medico medico;
    
    // Constructor
    public Persona() {
        this.fechaRegistro = new Date();
    }
    
    // Getters y Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public Usuario getUsuario() { return usuario; }
    public void setUsuario(Usuario usuario) { this.usuario = usuario; }
    
    public String getDni() { return dni; }
    public void setDni(String dni) { this.dni = dni; }
    
    public String getNombre() { return nombre; }
    public void setNombre(String nombre) { this.nombre = nombre; }
    
    public String getApellido() { return apellido; }
    public void setApellido(String apellido) { this.apellido = apellido; }
    
    public Date getFechaNacimiento() { return fechaNacimiento; }
    public void setFechaNacimiento(Date fechaNacimiento) { this.fechaNacimiento = fechaNacimiento; }
    
    public String getGenero() { return genero; }
    public void setGenero(String genero) { this.genero = genero; }
    
    public String getTelefono() { return telefono; }
    public void setTelefono(String telefono) { this.telefono = telefono; }
    
    public String getDireccion() { return direccion; }
    public void setDireccion(String direccion) { this.direccion = direccion; }
    
    public String getDistrito() { return distrito; }
    public void setDistrito(String distrito) { this.distrito = distrito; }
    
    public String getProvincia() { return provincia; }
    public void setProvincia(String provincia) { this.provincia = provincia; }
    
    public String getDepartamento() { return departamento; }
    public void setDepartamento(String departamento) { this.departamento = departamento; }
    
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
    
    public Date getFechaRegistro() { return fechaRegistro; }
    public void setFechaRegistro(Date fechaRegistro) { this.fechaRegistro = fechaRegistro; }
    
    public Paciente getPaciente() { return paciente; }
    public void setPaciente(Paciente paciente) { this.paciente = paciente; }
    
    public Medico getMedico() { return medico; }
    public void setMedico(Medico medico) { this.medico = medico; }
    
    // M√©todo helper para nombre completo
    public String getNombreCompleto() {
        return nombre + " " + apellido;
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\Rol.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "roles")
public class Rol {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    private String nombre;
    private String descripcion;
    
    // Constructor
    public Rol() {}
    
    // Getters y Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public String getNombre() { return nombre; }
    public void setNombre(String nombre) { this.nombre = nombre; }
    
    public String getDescripcion() { return descripcion; }
    public void setDescripcion(String descripcion) { this.descripcion = descripcion; }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\entity\Usuario.java 
================================= 
package com.cibertec.proyecto.entity;

import jakarta.persistence.*;
import java.util.List;

@Entity
@Table(name = "usuarios")
public class Usuario {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Integer id;
    
    @Column(name = "username")
    private String username;
    
    @Column(name = "email")
    private String email;
    
    @Column(name = "password_hash")
    private String passwordHash;
    
    @Column(name = "estado")
    private Integer estado = 1;
    
    @OneToOne(mappedBy = "usuario")
    private Persona persona;
    
    @ManyToMany(fetch = FetchType.EAGER)
    @JoinTable(
        name = "usuario_roles",
        joinColumns = @JoinColumn(name = "id_usuario"),
        inverseJoinColumns = @JoinColumn(name = "id_rol")
    )
    private List<Rol> roles;
    
    // Constructor vac√≠o
    public Usuario() {}
    
    // Getters y Setters
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; }
    
    public String getUsername() { return username; }
    public void setUsername(String username) { this.username = username; }
    
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
    
    public String getPasswordHash() { return passwordHash; }
    public void setPasswordHash(String passwordHash) { this.passwordHash = passwordHash; }
    
    public Integer getEstado() { return estado; }
    public void setEstado(Integer estado) { this.estado = estado; }
    
    public Persona getPersona() { return persona; }
    public void setPersona(Persona persona) { this.persona = persona; }
    
    public List<Rol> getRoles() { return roles; }
    public void setRoles(List<Rol> roles) { this.roles = roles; }
    
    // M√©todo helper para verificar rol
    public boolean hasRole(String roleName) {
        if (roles == null) return false;
        return roles.stream().anyMatch(rol -> rol.getNombre().equals(roleName));
    }
    
    // M√©todo para obtener rol principal
    public String getRolPrincipal() {
        if (roles == null || roles.isEmpty()) return null;
        
        // Prioridad de roles
        if (hasRole("Administrador")) return "Administrador";
        if (hasRole("M√©dico")) return "M√©dico"; 
        if (hasRole("Secretario")) return "Secretario";
        if (hasRole("Cliente")) return "Cliente";
        
        return roles.get(0).getNombre();
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\CitaRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.Cita;
import com.cibertec.proyecto.entity.EstadoCita;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.List;

public interface CitaRepository extends JpaRepository<Cita, Integer> {
    
    // Citas de un paciente
    List<Cita> findByPacienteIdOrderByFechaHoraDesc(Integer pacienteId);
    
    // Citas de un m√©dico
    List<Cita> findByMedicoIdOrderByFechaHoraDesc(Integer medicoId);
    
    // Citas por estado
    List<Cita> findByEstadoOrderByFechaHoraDesc(EstadoCita estado);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\EspecialidadRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.Especialidad;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.List;

public interface EspecialidadRepository extends JpaRepository<Especialidad, Integer> {
    List<Especialidad> findByNombreContaining(String nombre);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\HistorialMedicoRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.HistorialMedico;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;
import java.util.List;

public interface HistorialMedicoRepository extends JpaRepository<HistorialMedico, Integer> {
    
    // Historial de un paciente espec√≠fico
    @Query("SELECT hm FROM HistorialMedico hm WHERE hm.cita.paciente.id = :pacienteId ORDER BY hm.fechaRegistro DESC")
    List<HistorialMedico> findByPacienteId(@Param("pacienteId") Integer pacienteId);
    
    // Historial por cita
    List<HistorialMedico> findByCitaId(Integer citaId);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\MedicoRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.Medico;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.List;
import java.util.Optional;

public interface MedicoRepository extends JpaRepository<Medico, Integer> {
    Optional<Medico> findByPersonaUsuarioId(Integer usuarioId);
    List<Medico> findByEspecialidadId(Integer especialidadId);
    List<Medico> findByPersonaNombreContainingOrPersonaApellidoContaining(String nombre, String apellido);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\PacienteRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.Paciente;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.Optional;

public interface PacienteRepository extends JpaRepository<Paciente, Integer> {
    Optional<Paciente> findByPersonaDni(String dni);
    Optional<Paciente> findByPersonaUsuarioId(Integer usuarioId);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\PersonaRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.Persona;
import org.springframework.data.jpa.repository.JpaRepository;
import java.util.Optional;

public interface PersonaRepository extends JpaRepository<Persona, Integer> {
    Optional<Persona> findByDni(String dni);
    Optional<Persona> findByUsuarioId(Integer usuarioId);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\RolRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.Rol;
import org.springframework.data.jpa.repository.JpaRepository;

public interface RolRepository extends JpaRepository<Rol, Integer> {
    Rol findByNombre(String nombre);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\repository\UsuarioRepository.java 
================================= 
package com.cibertec.proyecto.repository;

import com.cibertec.proyecto.entity.Usuario;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.data.repository.query.Param;
import java.util.List;
import java.util.Optional;

public interface UsuarioRepository extends JpaRepository<Usuario, Integer> {
    Optional<Usuario> findByUsername(String username);
    Optional<Usuario> findByEmail(String email);
    boolean existsByUsername(String username);
    boolean existsByEmail(String email);
    
    // Buscar por rol
    @Query("SELECT u FROM Usuario u JOIN u.roles r WHERE r.nombre = :rolNombre")
    List<Usuario> findByRolNombre(@Param("rolNombre") String rolNombre);
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\service\CitaService.java 
================================= 
package com.cibertec.proyecto.service;

import com.cibertec.proyecto.entity.Cita;
import com.cibertec.proyecto.entity.EstadoCita;
import com.cibertec.proyecto.entity.Paciente;
import com.cibertec.proyecto.entity.Medico;
import com.cibertec.proyecto.repository.CitaRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.Date;
import java.util.List;
import java.util.Optional;

@Service
public class CitaService {
    
    @Autowired
    private CitaRepository citaRepository;
    
    @Autowired
    private PacienteService pacienteService;
    
    @Autowired
    private MedicoService medicoService;
    
    // Listar todas las citas
    public List<Cita> listarTodas() {
        return citaRepository.findAll();
    }
    
    // Buscar por ID
    public Optional<Cita> buscarPorId(Integer id) {
        return citaRepository.findById(id);
    }
    
    // Citas de un paciente
    public List<Cita> buscarPorPaciente(Integer pacienteId) {
        return citaRepository.findByPacienteIdOrderByFechaHoraDesc(pacienteId);
    }
    
    // Citas de un m√©dico
    public List<Cita> buscarPorMedico(Integer medicoId) {
        return citaRepository.findByMedicoIdOrderByFechaHoraDesc(medicoId);
    }
    
    // Guardar cita
    public Cita guardar(Cita cita) {
        return citaRepository.save(cita);
    }
    
    // Programar nueva cita
    public Cita programarCita(Integer pacienteId, Integer medicoId, String fechaHora, String motivo) {
        Optional<Paciente> paciente = pacienteService.buscarPorId(pacienteId);
        Optional<Medico> medico = medicoService.buscarPorId(medicoId);
        
        if (paciente.isPresent() && medico.isPresent()) {
            Cita cita = new Cita();
            cita.setPaciente(paciente.get());
            cita.setMedico(medico.get());
            
            // Convertir String a Date
            try {
                java.text.SimpleDateFormat sdf = new java.text.SimpleDateFormat("yyyy-MM-dd'T'HH:mm");
                cita.setFechaHora(sdf.parse(fechaHora));
            } catch (Exception e) {
                cita.setFechaHora(new Date());
            }
            
            cita.setMotivo(motivo);
            return citaRepository.save(cita);
        }
        return null;
    }
    
    // Cancelar cita
    public boolean cancelarCita(Integer citaId) {
        Optional<Cita> citaOpt = citaRepository.findById(citaId);
        if (citaOpt.isPresent()) {
            Cita cita = citaOpt.get();
            cita.setEstado(EstadoCita.Cancelada);  // Ahora con C may√∫scula
            citaRepository.save(cita);
            return true;
        }
        return false;
    }
    
    // Completar cita
    public boolean completarCita(Integer citaId) {
        Optional<Cita> citaOpt = citaRepository.findById(citaId);
        if (citaOpt.isPresent()) {
            Cita cita = citaOpt.get();
            cita.setEstado(EstadoCita.Completada);  // Ahora con C may√∫scula
            citaRepository.save(cita);
            return true;
        }
        return false;
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\service\EspecialidadService.java 
================================= 
package com.cibertec.proyecto.service;

import com.cibertec.proyecto.entity.Especialidad;
import com.cibertec.proyecto.repository.EspecialidadRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import java.util.List;
import java.util.Optional;

@Service
public class EspecialidadService {
    
    @Autowired
    private EspecialidadRepository especialidadRepository;
    
    public List<Especialidad> listarTodas() {
        return especialidadRepository.findAll();
    }
    
    public Optional<Especialidad> buscarPorId(Integer id) {
        return especialidadRepository.findById(id);
    }
    
    public List<Especialidad> buscarPorNombre(String nombre) {
        return especialidadRepository.findByNombreContaining(nombre);
    }
    
    public Especialidad guardar(Especialidad especialidad) {
        return especialidadRepository.save(especialidad);
    }
    
    public void eliminar(Integer id) {
        especialidadRepository.deleteById(id);
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\service\HistorialMedicoService.java 
================================= 
package com.cibertec.proyecto.service;

import com.cibertec.proyecto.entity.HistorialMedico;
import com.cibertec.proyecto.repository.HistorialMedicoRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import java.util.List;
import java.util.Optional;

@Service
public class HistorialMedicoService {
    
    @Autowired
    private HistorialMedicoRepository historialMedicoRepository;
    
    // Listar todo el historial
    public List<HistorialMedico> listarTodos() {
        return historialMedicoRepository.findAll();
    }
    
    // Buscar por ID
    public Optional<HistorialMedico> buscarPorId(Integer id) {
        return historialMedicoRepository.findById(id);
    }
    
    // Historial de un paciente
    public List<HistorialMedico> buscarPorPaciente(Integer pacienteId) {
        return historialMedicoRepository.findByPacienteId(pacienteId);
    }
    
    // Historial por cita
    public List<HistorialMedico> buscarPorCita(Integer citaId) {
        return historialMedicoRepository.findByCitaId(citaId);
    }
    
    // Guardar historial
    public HistorialMedico guardar(HistorialMedico historialMedico) {
        return historialMedicoRepository.save(historialMedico);
    }
    
    // Crear nuevo registro de historial
    public HistorialMedico crearHistorial(Integer citaId, String notas, String archivos) {
        HistorialMedico historial = new HistorialMedico();
        // Nota: Necesitar√≠amos inyectar CitaService para buscar la cita
        // Por ahora lo dejamos simple
        historial.setNotas(notas);
        historial.setArchivosAdjuntos(archivos);
        return historialMedicoRepository.save(historial);
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\service\MedicoService.java 
================================= 
package com.cibertec.proyecto.service;

import com.cibertec.proyecto.entity.Medico;
import com.cibertec.proyecto.entity.Persona;
import com.cibertec.proyecto.entity.Usuario;
import com.cibertec.proyecto.repository.MedicoRepository;
import com.cibertec.proyecto.repository.PersonaRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import java.util.List;
import java.util.Optional;

@Service
public class MedicoService {
    
    @Autowired
    private MedicoRepository medicoRepository;
    
    @Autowired
    private PersonaRepository personaRepository;
    
    public List<Medico> listarTodos() {
        return medicoRepository.findAll();
    }
    
    public Optional<Medico> buscarPorId(Integer id) {
        return medicoRepository.findById(id);
    }
    
    public Optional<Medico> buscarPorUsuarioId(Integer usuarioId) {
        return medicoRepository.findByPersonaUsuarioId(usuarioId);
    }
    
    public List<Medico> buscarPorEspecialidad(Integer especialidadId) {
        return medicoRepository.findByEspecialidadId(especialidadId);
    }
    
    public List<Medico> buscarPorNombre(String nombre) {
        return medicoRepository.findByPersonaNombreContainingOrPersonaApellidoContaining(nombre, nombre);
    }
    
    public Medico guardar(Medico medico) {
        return medicoRepository.save(medico);
    }
    
    // Crear m√©dico desde usuario
    public Medico crearMedicoDesdeUsuario(Usuario usuario, String dni, String nombre, String apellido) {
        // Crear persona
        Persona persona = new Persona();
        persona.setUsuario(usuario);
        persona.setDni(dni);
        persona.setNombre(nombre);
        persona.setApellido(apellido);
        persona = personaRepository.save(persona);
        
        // Crear m√©dico (sin especialidad por defecto)
        Medico medico = new Medico();
        medico.setPersona(persona);
        return medicoRepository.save(medico);
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\service\PacienteService.java 
================================= 
package com.cibertec.proyecto.service;

import com.cibertec.proyecto.entity.Paciente;
import com.cibertec.proyecto.entity.Persona;
import com.cibertec.proyecto.entity.Usuario;
import com.cibertec.proyecto.repository.PacienteRepository;
import com.cibertec.proyecto.repository.PersonaRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import java.util.List;
import java.util.Optional;

@Service
public class PacienteService {
    
    @Autowired
    private PacienteRepository pacienteRepository;
    
    @Autowired
    private PersonaRepository personaRepository;
    
    public List<Paciente> listarTodos() {
        return pacienteRepository.findAll();
    }
    
    public Optional<Paciente> buscarPorId(Integer id) {
        return pacienteRepository.findById(id);
    }
    
    public Optional<Paciente> buscarPorDni(String dni) {
        return pacienteRepository.findByPersonaDni(dni);
    }
    
    public Optional<Paciente> buscarPorUsuarioId(Integer usuarioId) {
        return pacienteRepository.findByPersonaUsuarioId(usuarioId);
    }
    
    public Paciente guardar(Paciente paciente) {
        return pacienteRepository.save(paciente);
    }
    
    // Crear paciente desde usuario
    public Paciente crearPacienteDesdeUsuario(Usuario usuario, String dni, String nombre, String apellido) {
        // Crear persona
        Persona persona = new Persona();
        persona.setUsuario(usuario);
        persona.setDni(dni);
        persona.setNombre(nombre);
        persona.setApellido(apellido);
        persona = personaRepository.save(persona);
        
        // Crear paciente
        Paciente paciente = new Paciente();
        paciente.setPersona(persona);
        return pacienteRepository.save(paciente);
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\java\com\cibertec\proyecto\service\UsuarioService.java 
================================= 
package com.cibertec.proyecto.service;

import com.cibertec.proyecto.entity.Usuario;
import com.cibertec.proyecto.repository.UsuarioRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import java.util.List;
import java.util.Optional;

@Service
public class UsuarioService {
    
    @Autowired
    private UsuarioRepository usuarioRepository;
    
    public List<Usuario> listarTodos() {
        return usuarioRepository.findAll();
    }
    
    public Optional<Usuario> buscarPorId(Integer id) {
        return usuarioRepository.findById(id);
    }
    
    public Optional<Usuario> buscarPorUsername(String username) {
        return usuarioRepository.findByUsername(username);
    }
    
    public Usuario guardar(Usuario usuario) {
        return usuarioRepository.save(usuario);
    }
    
    public void eliminar(Integer id) {
        usuarioRepository.deleteById(id);
    }
    
    public boolean existeUsername(String username) {
        return usuarioRepository.existsByUsername(username);
    }
    
    public boolean existeEmail(String email) {
        return usuarioRepository.existsByEmail(email);
    }
    
    // Buscar usuarios por rol
    public List<Usuario> buscarPorRol(String rolNombre) {
        return usuarioRepository.findByRolNombre(rolNombre);
    }
} 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\test\java\com\cibertec\proyecto\AdministradorApplicationTests.java 
================================= 
package com.cibertec.proyecto;

import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class AdministradorApplicationTests {

	@Test
	void contextLoads() {
	}

}
 
 
================================= 
ARCHIVO: pom.xml 
================================= 
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>3.5.7</version>
		<relativePath/> <!-- lookup parent from repository -->
	</parent>
	<groupId>com.cibertec.proyecto</groupId>
	<artifactId>administrador</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<name>administrador</name>
	<description>Demo project for Spring Boot</description>
	<url/>
	<licenses>
		<license/>
	</licenses>
	<developers>
		<developer/>
	</developers>
	<scm>
		<connection/>
		<developerConnection/>
		<tag/>
		<url/>
	</scm>
	<properties>
		<java.version>17</java.version>
	</properties>
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-thymeleaf</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-devtools</artifactId>
			<scope>runtime</scope>
			<optional>true</optional>
		</dependency>
		<dependency>
			<groupId>com.mysql</groupId>
			<artifactId>mysql-connector-j</artifactId>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>

</project>
 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\application.properties 
================================= 
# Base de Datos
spring.datasource.url=jdbc:mysql://localhost:3306/hospital_virtual
spring.datasource.username=root
spring.datasource.password=mysql

# JPA Spring Boot 3.5
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Servidor
server.port=8081

# Thymeleaf
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false

# DevTools
spring.devtools.restart.enabled=true 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\application.properties 
================================= 
# Base de Datos
spring.datasource.url=jdbc:mysql://localhost:3306/hospital_virtual
spring.datasource.username=root
spring.datasource.password=mysql

# JPA Spring Boot 3.5
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Servidor
server.port=8081

# Thymeleaf
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.cache=false

# DevTools
spring.devtools.restart.enabled=true 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\form-usuario.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registrar Usuario - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>üìù Registrar Nuevo Usuario</h2>
        
        <div class="card">
            <div class="card-body">
                <form th:action="@{/admin/usuarios/guardar}" th:object="${usuario}" method="post">
                    
                    <div class="mb-3">
                        <label for="username" class="form-label">Username:</label>
                        <input type="text" class="form-control" id="username" 
                               th:field="*{username}" required
                               placeholder="Ingrese el nombre de usuario">
                        <div class="form-text">El username debe ser √∫nico.</div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input type="email" class="form-control" id="email" 
                               th:field="*{email}"
                               placeholder="usuario@ejemplo.com">
                    </div>

                    <div class="mb-3">
                        <label for="passwordHash" class="form-label">Password Temporal:</label>
                        <input type="text" class="form-control" id="passwordHash" 
                               th:field="*{passwordHash}" 
                               value="temp_password"
                               placeholder="Password temporal">
                        <div class="form-text">Por ahora usamos un password temporal.</div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="estado" class="form-label">Estado:</label>
                        <select class="form-control" id="estado" th:field="*{estado}">
                            <option value="1">‚úÖ Activo</option>
                            <option value="0">‚ùå Inactivo</option>
                        </select>
                    </div>
                    
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary">üíæ Guardar Usuario</button>
                        <a th:href="@{/admin/usuarios}" class="btn btn-secondary">‚Ü©Ô∏è Cancelar</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\lista-usuarios.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de Usuarios - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>üè• Administrador - Gesti√≥n de Usuarios</h2>
        
        <!-- Mensaje de √©xito -->
        <div th:if="${param.exito}" class="alert alert-success alert-dismissible fade show">
            ‚úÖ Usuario guardado exitosamente!
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <!-- Bot√≥n nuevo usuario -->
        <a th:href="@{/admin/usuarios/nuevo}" class="btn btn-success mb-3">‚ûï Nuevo Usuario</a>

        <!-- Tabla de usuarios -->
        <div class="card">
            <div class="card-body">
                <table class="table table-striped table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>Username</th>
                            <th>Email</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="usuario : ${usuarios}">
                            <td th:text="${usuario.id}"></td>
                            <td th:text="${usuario.username}"></td>
                            <td th:text="${usuario.email}"></td>
                            <td>
                                <span th:if="${usuario.estado == 1}" class="badge bg-success">Activo</span>
                                <span th:if="${usuario.estado == 0}" class="badge bg-danger">Inactivo</span>
                            </td>
                            <td>
                                <a th:href="@{/admin/usuarios/estado/{id}(id=${usuario.id})}" 
                                   class="btn btn-warning btn-sm">
                                   <span th:if="${usuario.estado == 1}">‚ùå Desactivar</span>
                                   <span th:if="${usuario.estado == 0}">‚úÖ Activar</span>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\admin\citas.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de Citas - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .filtros-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .badge-estado {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .table-hover tbody tr:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-calendar-alt me-2"></i>Gesti√≥n de Citas</h1>
                    <p class="lead mb-0">Todas las citas del sistema - Vista Administrador</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                    <a th:href="@{/admin/usuarios}" class="btn btn-light">
                        <i class="fas fa-users me-1"></i>Usuarios
                    </a>
                </div>
            </div>
        </div>

        <!-- FILTROS -->
        <div class="filtros-container">
            <div class="row align-items-center">
                <div class="col-md-4">
                    <label for="filtroEstado" class="form-label">Filtrar por Estado:</label>
                    <select class="form-select" id="filtroEstado">
                        <option value="TODAS">Todas las citas</option>
                        <option value="Programada">Pendientes</option>
                        <option value="Completada">Completadas</option>
                        <option value="Cancelada">Canceladas</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="filtroFecha" class="form-label">Filtrar por Fecha:</label>
                    <input type="date" class="form-control" id="filtroFecha">
                </div>
                <div class="col-md-4">
                    <label for="buscarPaciente" class="form-label">Buscar Paciente:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="buscarPaciente" placeholder="Nombre del paciente...">
                        <button class="btn btn-primary" type="button" id="btnBuscar">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS R√ÅPIDAS -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.size() : 0}" class="text-primary">0</h2>
                        <p class="card-text">Total de Citas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.?[estado.name() == 'Programada'].size() : 0}" class="text-warning">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.?[estado.name() == 'Completada'].size() : 0}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- LISTA DE CITAS -->
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de Todas las Citas
                </h5>
            </div>
            <div class="card-body">
                <!-- Mensaje si no hay citas -->
                <div th:if="${citas == null or citas.empty}" class="text-center py-5">
                    <i class="fas fa-calendar-times fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay citas en el sistema</h4>
                    <p class="text-muted">No se encontraron citas programadas.</p>
                </div>

                <!-- Lista de citas -->
                <div th:if="${citas != null and not citas.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Fecha y Hora</th>
                                    <th>Paciente</th>
                                    <th>M√©dico</th>
                                    <th>Especialidad</th>
                                    <th>Motivo</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="cita : ${citas}">
                                    <td th:text="${cita.id}">#</td>
                                    <td>
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy HH:mm')}">Fecha</span>
                                    </td>
                                    <td>
                                        <strong th:text="${cita.paciente != null ? cita.paciente.nombreCompleto : 'N/A'}">Paciente</strong>
                                        <br>
                                        <small class="text-muted" th:text="${cita.paciente != null ? cita.paciente.dni : ''}">DNI</small>
                                    </td>
                                    <td>
                                        <strong th:text="${cita.medico != null ? cita.medico.nombreCompleto : 'N/A'}">M√©dico</strong>
                                    </td>
                                    <td th:text="${cita.medico != null ? cita.medico.especialidadNombre : 'N/A'}">Especialidad</td>
                                    <td th:text="${cita.motivo != null ? cita.motivo : 'Consulta m√©dica'}">Motivo</td>
                                    <td>
                                        <span th:switch="${cita.estado.name()}">
                                            <span th:case="'Programada'" class="badge bg-warning badge-estado">Pendiente</span>
                                            <span th:case="'Completada'" class="badge bg-success badge-estado">Completada</span>
                                            <span th:case="'Cancelada'" class="badge bg-danger badge-estado">Cancelada</span>
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button class="btn btn-outline-info" th:title="'Ver detalles de cita ' + ${cita.id}">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-outline-warning" 
                                                    th:if="${cita.estado.name() == 'Programada'}"
                                                    th:title="'Cancelar cita de ' + ${cita.paciente != null ? cita.paciente.nombreCompleto : 'paciente'}">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Vista:</strong> Administrador | 
                    <strong>Total de citas cargadas:</strong> <span th:text="${citas != null ? citas.size() : 0}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Filtros de b√∫squeda
        document.addEventListener('DOMContentLoaded', function() {
            const filtroEstado = document.getElementById('filtroEstado');
            const filtroFecha = document.getElementById('filtroFecha');
            const buscarPaciente = document.getElementById('buscarPaciente');
            const btnBuscar = document.getElementById('btnBuscar');
            
            // Establecer fecha actual como valor por defecto
            const today = new Date().toISOString().split('T')[0];
            filtroFecha.value = today;
            
            // Funcionalidad de filtros
            function aplicarFiltros() {
                const estado = filtroEstado.value;
                const fecha = filtroFecha.value;
                const paciente = buscarPaciente.value.toLowerCase();
                
                console.log('Aplicando filtros:', { estado, fecha, paciente });
                
                // Filtrar filas de la tabla
                const filas = document.querySelectorAll('tbody tr');
                filas.forEach(fila => {
                    const estadoFila = fila.querySelector('.badge').textContent.trim().toLowerCase();
                    const nombrePaciente = fila.querySelector('td:nth-child(3) strong').textContent.toLowerCase();
                    const fechaCita = fila.querySelector('td:nth-child(2)').textContent;
                    
                    let mostrar = true;
                    
                    if (estado !== 'TODAS' && !estadoFila.includes(estado.toLowerCase())) {
                        mostrar = false;
                    }
                    
                    if (paciente && !nombrePaciente.includes(paciente)) {
                        mostrar = false;
                    }
                    
                    if (fecha) {
                        const fechaFormateada = new Date(fecha).toLocaleDateString('es-ES');
                        if (!fechaCita.includes(fechaFormateada)) {
                            mostrar = false;
                        }
                    }
                    
                    fila.style.display = mostrar ? '' : 'none';
                });
            }
            
            filtroEstado.addEventListener('change', aplicarFiltros);
            filtroFecha.addEventListener('change', aplicarFiltros);
            buscarPaciente.addEventListener('input', aplicarFiltros);
            btnBuscar.addEventListener('click', aplicarFiltros);
        });
        
        // Simular acciones de botones
        function simularAccion(accion, citaId, paciente) {
            alert(`Acci√≥n: ${accion}\nCita ID: ${citaId}\nPaciente: ${paciente}\n\nEsta funcionalidad est√° en desarrollo.`);
            return false;
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\admin\dashboard.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .stat-card.users { border-left-color: #007bff; }
        .stat-card.medicos { border-left-color: #28a745; }
        .stat-card.pacientes { border-left-color: #ffc107; }
        .stat-card.citas { border-left-color: #17a2b8; }
        .stat-card.especialidades { border-left-color: #6f42c1; }
        .stat-card.pendientes { border-left-color: #ffc107; }
        .stat-card.completadas { border-left-color: #28a745; }
        .stat-card.canceladas { border-left-color: #dc3545; }
        
        .quick-actions .btn {
            margin: 5px;
            transition: all 0.3s;
        }
        .quick-actions .btn:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER REFINADO - SIN BOTONES DUPLICADOS -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-tachometer-alt me-2"></i>Panel de Administraci√≥n</h1>
                    <p class="lead mb-0">Sistema Hospital Virtual - Vista General</p>
                </div>
                <div class="col-md-4 text-end">
                    <!-- ELIMINADOS LOS BOTONES DUPLICADOS "USUARIOS" Y "CITAS" -->
                    <span class="badge bg-light text-dark">
                        <i class="fas fa-user-shield me-1"></i>Modo Admin
                    </span>
                </div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS - VERSI√ìN REFINADA (√öNICA) -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body quick-actions text-center">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-bolt text-warning me-2"></i>Acciones R√°pidas
                        </h5>
                        <a th:href="@{/admin/usuarios}" class="btn btn-primary">
                            <i class="fas fa-users me-1"></i>Gestionar Usuarios
                        </a>
                        <a th:href="@{/admin/citas}" class="btn btn-info">
                            <i class="fas fa-calendar-check me-1"></i>Ver Todas las Citas
                        </a>
                        <a th:href="@{/admin/medicos}" class="btn btn-success">
                            <i class="fas fa-user-md me-1"></i>Gestionar M√©dicos
                        </a>
                        <a th:href="@{/admin/pacientes}" class="btn btn-warning">
                            <i class="fas fa-user-injured me-1"></i>Ver Pacientes
                        </a>
                        <a th:href="@{/admin/reportes}" class="btn btn-dark">
                            <i class="fas fa-chart-line me-1"></i>Reportes
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS PRINCIPALES -->
        <h4 class="mb-3">
            <i class="fas fa-chart-bar text-primary me-2"></i>Estad√≠sticas del Sistema
        </h4>
        
        <div class="row mb-4">
            <!-- Total Usuarios -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card users h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-users fa-2x text-primary"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalUsuarios}" class="text-primary">0</h2>
                        <p class="card-text">Total Usuarios</p>
                    </div>
                </div>
            </div>

            <!-- Total M√©dicos -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card medicos h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-user-md fa-2x text-success"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalMedicos}" class="text-success">0</h2>
                        <p class="card-text">M√©dicos Registrados</p>
                    </div>
                </div>
            </div>

            <!-- Total Pacientes -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card pacientes h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-user-injured fa-2x text-warning"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalPacientes}" class="text-warning">0</h2>
                        <p class="card-text">Pacientes Registrados</p>
                    </div>
                </div>
            </div>

            <!-- Total Citas -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card citas h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-calendar-alt fa-2x text-info"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalCitas}" class="text-info">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS DE CITAS -->
        <div class="row mb-4">
            <!-- Citas Pendientes -->
            <div class="col-md-4 mb-3">
                <div class="card stat-card pendientes h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-clock fa-2x text-warning"></i>
                        </div>
                        <h2 th:text="${estadisticas.citasPendientes}" class="text-warning">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>

            <!-- Citas Completadas -->
            <div class="col-md-4 mb-3">
                <div class="card stat-card completadas h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-check-circle fa-2x text-success"></i>
                        </div>
                        <h2 th:text="${estadisticas.citasCompletadas}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>

            <!-- Citas Canceladas -->
            <div class="col-md-4 mb-3">
                <div class="card stat-card canceladas h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-times-circle fa-2x text-danger"></i>
                        </div>
                        <h2 th:text="${estadisticas.citasCanceladas}" class="text-danger">0</h2>
                        <p class="card-text">Citas Canceladas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Base de Datos:</strong> Hospital Virtual | 
                    <strong>Usuarios Activos:</strong> <span th:text="${estadisticas.totalUsuarios}"></span> | 
                    <strong>Especialidades:</strong> <span th:text="${estadisticas.totalEspecialidades}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos de animaci√≥n para las tarjetas
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.stat-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\admin\detalles-paciente.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalles del Paciente - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .info-card {
            border-left: 4px solid #007bff;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-user-injured me-2"></i>Detalles del Paciente</h1>
                    <p class="lead mb-0" th:text="${paciente.nombreCompleto}">Nombre del Paciente</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/pacientes}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver a Pacientes
                    </a>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- INFORMACI√ìN PERSONAL -->
            <div class="col-md-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-id-card me-2"></i>Informaci√≥n Personal
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${paciente.persona != null}">
                            <p><strong>Nombre completo:</strong> <span th:text="${paciente.nombreCompleto}"></span></p>
                            <p><strong>DNI:</strong> <code th:text="${paciente.persona.dni}"></code></p>
                            <p><strong>G√©nero:</strong> 
                                <span th:if="${paciente.persona.genero == 'M'}">Masculino</span>
                                <span th:if="${paciente.persona.genero == 'F'}">Femenino</span>
                                <span th:if="${paciente.persona.genero == null}">No especificado</span>
                            </p>
                            <p><strong>Fecha de nacimiento:</strong> 
                                <span th:if="${paciente.persona.fechaNacimiento != null}" 
                                      th:text="${#dates.format(paciente.persona.fechaNacimiento, 'dd/MM/yyyy')}">
                                </span>
                                <span th:if="${paciente.persona.fechaNacimiento == null}">No especificada</span>
                            </p>
                            <p><strong>Email:</strong> 
                                <span th:if="${paciente.persona.email != null}" th:text="${paciente.persona.email}"></span>
                                <span th:if="${paciente.persona.email == null}" class="text-muted">No especificado</span>
                            </p>
                            <p><strong>Tel√©fono:</strong> 
                                <span th:if="${paciente.persona.telefono != null}" th:text="${paciente.persona.telefono}"></span>
                                <span th:if="${paciente.persona.telefono == null}" class="text-muted">No especificado</span>
                            </p>
                        </div>
                        <div th:if="${paciente.persona == null}" class="text-center text-muted">
                            <i class="fas fa-exclamation-triangle fa-2x mb-2"></i>
                            <p>Informaci√≥n personal no disponible</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- INFORMACI√ìN M√âDICA Y CONTACTO -->
            <div class="col-md-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-heartbeat me-2"></i>Informaci√≥n M√©dica y Contacto
                        </h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Seguro m√©dico:</strong>
                            <span th:if="${paciente.seguroMedico != null and !paciente.seguroMedico.isEmpty()}" 
                                  class="badge bg-success ms-2" th:text="${paciente.seguroMedico}">
                            </span>
                            <span th:if="${paciente.seguroMedico == null or paciente.seguroMedico.isEmpty()}" 
                                  class="badge bg-warning text-dark ms-2">
                                Sin seguro m√©dico
                            </span>
                        </p>
                        
                        <div th:if="${paciente.persona != null}">
                            <p><strong>Direcci√≥n:</strong> 
                                <span th:if="${paciente.persona.direccion != null}" th:text="${paciente.persona.direccion}"></span>
                                <span th:if="${paciente.persona.direccion == null}" class="text-muted">No especificada</span>
                            </p>
                            <p><strong>Ubicaci√≥n:</strong>
                                <span th:if="${paciente.persona.distrito != null or paciente.persona.provincia != null}">
                                    <span th:if="${paciente.persona.distrito != null}" th:text="${paciente.persona.distrito}"></span>
                                    <span th:if="${paciente.persona.provincia != null}">, <span th:text="${paciente.persona.provincia}"></span></span>
                                    <span th:if="${paciente.persona.departamento != null}">, <span th:text="${paciente.persona.departamento}"></span></span>
                                </span>
                                <span th:if="${paciente.persona.distrito == null and paciente.persona.provincia == null}" class="text-muted">
                                    No especificada
                                </span>
                            </p>
                        </div>
                        
                        <div class="mt-4">
                            <h6>Acciones R√°pidas:</h6>
                            <div class="btn-group">
                                <button class="btn btn-outline-primary btn-sm" onclick="verHistorialPaciente()">
                                    <i class="fas fa-file-medical me-1"></i>Historial
                                </button>
                                <button class="btn btn-outline-info btn-sm" onclick="verCitasPaciente()">
                                    <i class="fas fa-calendar-alt me-1"></i>Citas
                                </button>
                                <button class="btn btn-outline-warning btn-sm" onclick="editarPaciente()">
                                    <i class="fas fa-edit me-1"></i>Editar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Paciente ID:</strong> <span th:text="${paciente.id}"></span> |
                    <strong>Fecha registro:</strong> 
                    <span th:if="${paciente.persona != null and paciente.persona.fechaRegistro != null}" 
                          th:text="${#dates.format(paciente.persona.fechaRegistro, 'dd/MM/yyyy HH:mm')}">
                    </span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script>
        function verHistorialPaciente() {
            alert('Funcionalidad de historial m√©dico en desarrollo');
        }

        function verCitasPaciente() {
            alert('Funcionalidad de citas del paciente en desarrollo');
        }

        function editarPaciente() {
            alert('Funcionalidad de edici√≥n de paciente en desarrollo');
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\admin\medicos.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de M√©dicos - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .badge-especialidad {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .table-hover tbody tr:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-user-md me-2"></i>Gesti√≥n de M√©dicos</h1>
                    <p class="lead mb-0">Administraci√≥n de profesionales m√©dicos - Hospital Virtual</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalMedicos}" class="text-primary">0</h2>
                        <p class="card-text">Total M√©dicos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${especialidades != null ? especialidades.size() : 0}" class="text-success">0</h2>
                        <p class="card-text">Especialidades</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <div class="btn-group">
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#filtroModal">
                                <i class="fas fa-filter me-1"></i>Filtrar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FILTROS -->
        <div class="card mb-4">
            <div class="card-body">
                <form th:action="@{/admin/medicos/buscar}" method="get">
                    <div class="row">
                        <div class="col-md-8">
                            <label for="especialidadId" class="form-label">Filtrar por Especialidad:</label>
                            <select name="especialidadId" id="especialidadId" class="form-select">
                                <option value="">Todas las especialidades</option>
                                <option th:each="especialidad : ${especialidades}" 
                                        th:value="${especialidad.id}"
                                        th:text="${especialidad.nombre}"
                                        th:selected="${especialidadSeleccionada == especialidad.id}">
                                </option>
                            </select>
                        </div>
                        <div class="col-md-4 d-flex align-items-end">
                            <button type="submit" class="btn btn-primary me-2">
                                <i class="fas fa-search me-1"></i>Buscar
                            </button>
                            <a th:href="@{/admin/medicos}" class="btn btn-outline-secondary">
                                <i class="fas fa-sync me-1"></i>Limpiar
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- LISTA DE M√âDICOS -->
        <div class="card">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de M√©dicos del Sistema
                </h5>
                <span class="badge bg-light text-dark" th:text="'Total: ' + ${totalMedicos}">Total: 0</span>
            </div>
            <div class="card-body">
                <!-- Mensaje si no hay m√©dicos -->
                <div th:if="${medicos == null or medicos.empty}" class="text-center py-5">
                    <i class="fas fa-user-md fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay m√©dicos registrados</h4>
                    <p class="text-muted">No se encontraron m√©dicos en el sistema.</p>
                </div>

                <!-- Tabla de m√©dicos -->
                <div th:if="${medicos != null and not medicos.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>M√©dico</th>
                                    <th>DNI</th>
                                    <th>Email</th>
                                    <th>Especialidad</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="medico : ${medicos}">
                                    <td th:text="${medico.id}">#</td>
                                    <td>
                                        <strong th:text="${medico.nombreCompleto}">Nombre M√©dico</strong>
                                        <br>
                                        <small class="text-muted" th:text="${medico.persona != null ? medico.persona.telefono : 'N/A'}">Tel√©fono</small>
                                    </td>
                                    <td th:text="${medico.persona != null ? medico.persona.dni : 'N/A'}">DNI</td>
                                    <td th:text="${medico.persona != null ? medico.persona.email : 'N/A'}">email@ejemplo.com</td>
                                    <td>
                                        <span th:if="${medico.especialidad != null}" 
                                              class="badge bg-info badge-especialidad" 
                                              th:text="${medico.especialidad.nombre}">
                                            Especialidad
                                        </span>
                                        <span th:if="${medico.especialidad == null}" class="text-muted">
                                            Sin especialidad
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button class="btn btn-outline-primary" 
                                                    th:title="'Editar ' + ${medico.nombreCompleto}">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-info" 
                                                    th:title="'Ver detalles de ' + ${medico.nombreCompleto}">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-outline-warning" 
                                                    th:title="'Ver agenda de ' + ${medico.nombreCompleto}">
                                                <i class="fas fa-calendar-alt"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Vista:</strong> Administrador | 
                    <strong>M√©dicos cargados:</strong> <span th:text="${totalMedicos}"></span> |
                    <strong>Especialidades disponibles:</strong> <span th:text="${especialidades != null ? especialidades.size() : 0}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos de animaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.stat-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // Simular acciones de botones
        function simularAccion(accion, medicoId, nombreMedico) {
            alert(`Acci√≥n: ${accion}\nM√©dico: ${nombreMedico}\nID: ${medicoId}\n\nEsta funcionalidad est√° en desarrollo.`);
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\admin\pacientes.html 
================================= 
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Pacientes - Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .patient-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            margin-bottom: 20px;
        }
        .patient-card:hover {
            transform: translateY(-5px);
        }
        .patient-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px 15px 0 0;
            padding: 20px;
        }
        .stats-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .btn-details {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 8px 20px;
        }
        .btn-details:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            color: white;
        }
        .patient-info {
            padding: 20px;
        }
        .insurance-badge {
            background: #28a745;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
        }
        .no-insurance-badge {
            background: #6c757d;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-hospital-alt me-2"></i>
                Hospital Virtual - Admin
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col">
                <h1 class="display-5 fw-bold text-primary">
                    <i class="fas fa-users me-2"></i>Gesti√≥n de Pacientes
                </h1>
                <p class="text-muted">Administra la informaci√≥n de los pacientes del sistema</p>
            </div>
        </div>

        <!-- Estad√≠sticas -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-primary" th:text="${totalPacientes}">0</h3>
                    <p class="text-muted mb-0">Total Pacientes</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-success" th:text="${pacientesConSeguro}">0</h3>
                    <p class="text-muted mb-0">Con Seguro</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-warning" th:text="${pacientesSinSeguro}">0</h3>
                    <p class="text-muted mb-0">Sin Seguro</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-info" th:text="${#dates.createNow()}">Fecha</h3>
                    <p class="text-muted mb-0">Hoy</p>
                </div>
            </div>
        </div>

        <!-- Lista de Pacientes -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-list me-2"></i>Lista de Pacientes
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Mensaje de error -->
                        <div th:if="${error}" class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <span th:text="${error}"></span>
                        </div>

                        <!-- Grid de pacientes -->
                        <div class="row" th:if="${pacientes != null and !pacientes.empty}">
                            <div class="col-md-6 col-lg-4" th:each="paciente : ${pacientes}">
                                <div class="card patient-card">
                                    <div class="patient-header text-center">
                                        <i class="fas fa-user-injured fa-3x mb-3"></i>
                                        <h5 class="card-title mb-1" th:text="${paciente.nombreCompleto}">Nombre Paciente</h5>
                                        <p class="mb-0" th:text="${paciente.dni}">DNI</p>
                                    </div>
                                    <div class="patient-info">
                                        <div class="mb-3">
                                            <small class="text-muted">Seguro M√©dico:</small>
                                            <div>
                                                <span th:if="${paciente.seguroMedico != null and !paciente.seguroMedico.isEmpty()}" 
                                                      class="insurance-badge">
                                                    <i class="fas fa-shield-alt me-1"></i>
                                                    <span th:text="${paciente.seguroMedico}">Seguro</span>
                                                </span>
                                                <span th:unless="${paciente.seguroMedico != null and !paciente.seguroMedico.isEmpty()}" 
                                                      class="no-insurance-badge">
                                                    <i class="fas fa-times me-1"></i>
                                                    Sin Seguro
                                                </span>
                                            </div>
                                        </div>
                                        <div class="d-grid">
                                            <a th:href="@{/admin/pacientes/detalles/} + ${paciente.id}" 
                                               class="btn btn-details">
                                                <i class="fas fa-eye me-1"></i>Ver Detalles
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Mensaje si no hay pacientes -->
                        <div th:if="${pacientes == null or pacientes.empty}" class="text-center py-5">
                            <i class="fas fa-users fa-4x text-muted mb-3"></i>
                            <h4 class="text-muted">No hay pacientes registrados</h4>
                            <p class="text-muted">Los pacientes aparecer√°n aqu√≠ cuando se registren en el sistema.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white mt-5 py-4">
        <div class="container text-center">
            <p class="mb-0">&copy; 2024 Hospital Virtual. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\admin\reportes.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Reportes del Sistema - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .report-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .progress {
            height: 25px;
            margin-bottom: 10px;
        }
        .progress-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .stats-badge {
            font-size: 0.9em;
            padding: 0.5em 1em;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-chart-line me-2"></i>Reportes del Sistema</h1>
                    <p class="lead mb-0">Estad√≠sticas detalladas y an√°lisis - Hospital Virtual</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                </div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-download text-primary me-2"></i>Exportar Reportes
                        </h5>
                        <button class="btn btn-outline-primary">
                            <i class="fas fa-file-pdf me-1"></i>PDF
                        </button>
                        <button class="btn btn-outline-success">
                            <i class="fas fa-file-excel me-1"></i>Excel
                        </button>
                        <button class="btn btn-outline-info" onclick="window.print()">
                            <i class="fas fa-print me-1"></i>Imprimir
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- RESUMEN ESTAD√çSTICO -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-calendar-check fa-2x text-primary"></i>
                        </div>
                        <h2 th:text="${reportes.citasPendientes}" class="text-primary">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-check-circle fa-2x text-success"></i>
                        </div>
                        <h2 th:text="${reportes.citasCompletadas}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-times-circle fa-2x text-danger"></i>
                        </div>
                        <h2 th:text="${reportes.citasCanceladas}" class="text-danger">0</h2>
                        <p class="card-text">Citas Canceladas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-chart-bar fa-2x text-info"></i>
                        </div>
                        <h2 th:text="${reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas}" class="text-info">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- REPORTES DETALLADOS -->
        <div class="row">
            <!-- USUARIOS POR ROL -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-users me-2"></i>Usuarios por Rol
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${reportes.usuariosPorRol != null and not reportes.usuariosPorRol.empty}">
                            <div th:each="entry : ${reportes.usuariosPorRol}">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span th:text="${entry.key}">Rol</span>
                                    <span class="badge bg-primary stats-badge" th:text="${entry.value}">0</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar bg-primary" 
                                         role="progressbar" 
                                         th:style="'width: ' + ${entry.value * 100 / #maps.size(reportes.usuariosPorRol)} + '%'">
                                        <span th:text="${entry.value}">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${reportes.usuariosPorRol == null or reportes.usuariosPorRol.empty}" class="text-center text-muted">
                            <i class="fas fa-chart-pie fa-2x mb-2"></i>
                            <p>No hay datos de usuarios por rol</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CITAS POR M√âDICO -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-user-md me-2"></i>Citas por M√©dico
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${reportes.citasPorMedico != null and not reportes.citasPorMedico.empty}">
                            <div th:each="entry : ${reportes.citasPorMedico}">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span th:text="${entry.key}">M√©dico</span>
                                    <span class="badge bg-success stats-badge" th:text="${entry.value}">0</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar bg-success" 
                                         role="progressbar" 
                                         th:style="'width: ' + ${entry.value * 100 / #maps.size(reportes.citasPorMedico)} + '%'">
                                        <span th:text="${entry.value}">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${reportes.citasPorMedico == null or reportes.citasPorMedico.empty}" class="text-center text-muted">
                            <i class="fas fa-stethoscope fa-2x mb-2"></i>
                            <p>No hay datos de citas por m√©dico</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CITAS POR ESPECIALIDAD -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-info text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-heartbeat me-2"></i>Citas por Especialidad
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${reportes.citasPorEspecialidad != null and not reportes.citasPorEspecialidad.empty}">
                            <div th:each="entry : ${reportes.citasPorEspecialidad}">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span th:text="${entry.key}">Especialidad</span>
                                    <span class="badge bg-info stats-badge" th:text="${entry.value}">0</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar bg-info" 
                                         role="progressbar" 
                                         th:style="'width: ' + ${entry.value * 100 / #maps.size(reportes.citasPorEspecialidad)} + '%'">
                                        <span th:text="${entry.value}">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${reportes.citasPorEspecialidad == null or reportes.citasPorEspecialidad.empty}" class="text-center text-muted">
                            <i class="fas fa-clipboard-list fa-2x mb-2"></i>
                            <p>No hay datos de citas por especialidad</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DISTRIBUCI√ìN DE CITAS -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-chart-pie me-2"></i>Distribuci√≥n de Citas
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="text-center">
                            <div class="mb-3">
                                <span class="badge bg-warning text-dark stats-badge me-2">
                                    Pendientes: <span th:text="${reportes.citasPendientes}">0</span>
                                </span>
                                <span class="badge bg-success stats-badge me-2">
                                    Completadas: <span th:text="${reportes.citasCompletadas}">0</span>
                                </span>
                                <span class="badge bg-danger stats-badge">
                                    Canceladas: <span th:text="${reportes.citasCanceladas}">0</span>
                                </span>
                            </div>
                            
                            <!-- Gr√°fico simple de porcentajes -->
                            <div class="progress mb-2" style="height: 30px;">
                                <div class="progress-bar bg-warning" 
                                     th:style="'width: ' + ${reportes.citasPendientes * 100 / (reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas)} + '%'"
                                     th:title="'Pendientes: ' + ${reportes.citasPendientes}">
                                    <span th:if="${reportes.citasPendientes > 0}" th:text="${reportes.citasPendientes}">0</span>
                                </div>
                                <div class="progress-bar bg-success" 
                                     th:style="'width: ' + ${reportes.citasCompletadas * 100 / (reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas)} + '%'"
                                     th:title="'Completadas: ' + ${reportes.citasCompletadas}">
                                    <span th:if="${reportes.citasCompletadas > 0}" th:text="${reportes.citasCompletadas}">0</span>
                                </div>
                                <div class="progress-bar bg-danger" 
                                     th:style="'width: ' + ${reportes.citasCanceladas * 100 / (reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas)} + '%'"
                                     th:title="'Canceladas: ' + ${reportes.citasCanceladas}">
                                    <span th:if="${reportes.citasCanceladas > 0}" th:text="${reportes.citasCanceladas}">0</span>
                                </div>
                            </div>
                            
                            <small class="text-muted">Distribuci√≥n porcentual de todas las citas del sistema</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n de Reportes</h6>
                <p class="mb-0 small text-muted">
                    <strong>Generado:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span> |
                    <strong>Base de datos:</strong> Hospital Virtual |
                    <strong>Total registros analizados:</strong> <span th:text="${reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas}"></span> citas
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos de animaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.report-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\admin\usuarios.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de Usuarios - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .badge-estado {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .table-hover tbody tr:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }
        .btn-group-sm .btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-users me-2"></i>Gesti√≥n de Usuarios</h1>
                    <p class="lead mb-0">Administraci√≥n completa del sistema - Todos los usuarios</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                    <a th:href="@{/admin/citas}" class="btn btn-light">
                        <i class="fas fa-calendar-alt me-1"></i>Citas
                    </a>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS DE USUARIOS -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalUsuarios}" class="text-primary">0</h2>
                        <p class="card-text">Total Usuarios</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${usuariosActivos}" class="text-success">0</h2>
                        <p class="card-text">Usuarios Activos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${usuariosInactivos}" class="text-danger">0</h2>
                        <p class="card-text">Usuarios Inactivos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <a th:href="@{/admin/usuarios/nuevo}" class="btn btn-primary btn-lg">
                            <i class="fas fa-plus me-1"></i>Nuevo Usuario
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- BARRA DE B√öSQUEDA Y FILTROS -->
        <div class="card mb-4">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Buscar usuario..." id="buscarUsuario">
                            <button class="btn btn-outline-primary" type="button" id="btnBuscar">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                        </div>
                    </div>
                    <div class="col-md-6 text-end">
                        <div class="btn-group">
                            <button class="btn btn-outline-secondary" id="btnFiltrarActivos">
                                <i class="fas fa-check-circle"></i> Activos
                            </button>
                            <button class="btn btn-outline-secondary" id="btnFiltrarInactivos">
                                <i class="fas fa-times-circle"></i> Inactivos
                            </button>
                            <button class="btn btn-outline-secondary" id="btnMostrarTodos">
                                <i class="fas fa-users"></i> Todos
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- LISTA DE USUARIOS -->
        <div class="card">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de Usuarios del Sistema
                </h5>
                <span class="badge bg-light text-dark" th:text="'Total: ' + ${totalUsuarios}">Total: 0</span>
            </div>
            <div class="card-body">
                <!-- Mensaje de √©xito -->
                <div th:if="${param.exito}" class="alert alert-success alert-dismissible fade show" role="alert">
                    <i class="fas fa-check-circle me-2"></i>Usuario guardado exitosamente
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>

                <!-- Mensaje si no hay usuarios -->
                <div th:if="${usuarios == null or usuarios.empty}" class="text-center py-5">
                    <i class="fas fa-users-slash fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay usuarios registrados</h4>
                    <p class="text-muted">No se encontraron usuarios en el sistema.</p>
                    <a th:href="@{/admin/usuarios/nuevo}" class="btn btn-primary">
                        <i class="fas fa-plus me-1"></i>Crear Primer Usuario
                    </a>
                </div>

                <!-- Tabla de usuarios -->
                <div th:if="${usuarios != null and not usuarios.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover table-striped" id="tablaUsuarios">
                            <thead class="table-dark">
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Roles</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="usuario : ${usuarios}">
                                    <td th:text="${usuario.id}">#</td>
                                    <td>
                                        <strong th:text="${usuario.username}">username</strong>
                                    </td>
                                    <td th:text="${usuario.email}">email@ejemplo.com</td>
                                    <td>
                                        <span th:if="${usuario.roles != null and not usuario.roles.empty}">
                                            <span th:each="rol, stat : ${usuario.roles}">
                                                <span class="badge bg-info badge-estado" th:text="${rol.nombre}">Rol</span>
                                                <span th:if="${not stat.last}">, </span>
                                            </span>
                                        </span>
                                        <span th:if="${usuario.roles == null or usuario.roles.empty}" class="text-muted">
                                            Sin roles
                                        </span>
                                    </td>
                                    <td>
                                        <span th:if="${usuario.estado == 1}" class="badge bg-success badge-estado">
                                            <i class="fas fa-check me-1"></i>Activo
                                        </span>
                                        <span th:if="${usuario.estado == 0}" class="badge bg-danger badge-estado">
                                            <i class="fas fa-times me-1"></i>Inactivo
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <a th:href="@{/admin/usuarios/editar/} + ${usuario.id}" 
                                               class="btn btn-outline-primary" 
                                               th:title="'Editar usuario ' + ${usuario.username}">
                                                <i class="fas fa-edit"></i>
                                            </a>
                                            <a th:href="@{/admin/usuarios/estado/} + ${usuario.id}" 
                                               class="btn" 
                                               th:classappend="${usuario.estado == 1} ? 'btn-outline-warning' : 'btn-outline-success'"
                                               th:title="${usuario.estado == 1} ? 'Desactivar usuario' : 'Activar usuario'">
                                                <i th:classappend="${usuario.estado == 1} ? 'fas fa-toggle-off' : 'fas fa-toggle-on'"></i>
                                            </a>
                                            <button class="btn btn-outline-info" 
                                                    th:onclick="'verDetalles(' + ${usuario.id} + ')'"
                                                    th:title="'Ver detalles de ' + ${usuario.username}">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Vista:</strong> Administrador | 
                    <strong>Usuarios cargados:</strong> <span th:text="${totalUsuarios}"></span> |
                    <strong>Activos/Inactivos:</strong> <span th:text="${usuariosActivos}"></span>/<span th:text="${usuariosInactivos}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Funcionalidad de b√∫squeda y filtros
        document.addEventListener('DOMContentLoaded', function() {
            const buscarUsuario = document.getElementById('buscarUsuario');
            const btnBuscar = document.getElementById('btnBuscar');
            const btnFiltrarActivos = document.getElementById('btnFiltrarActivos');
            const btnFiltrarInactivos = document.getElementById('btnFiltrarInactivos');
            const btnMostrarTodos = document.getElementById('btnMostrarTodos');
            const tablaUsuarios = document.getElementById('tablaUsuarios');

            // Funci√≥n para aplicar filtros
            function aplicarFiltros(filtro = 'TODOS', busqueda = '') {
                const filas = tablaUsuarios.querySelectorAll('tbody tr');
                let usuariosVisibles = 0;

                filas.forEach(fila => {
                    const username = fila.querySelector('td:nth-child(2) strong').textContent.toLowerCase();
                    const email = fila.querySelector('td:nth-child(3)').textContent.toLowerCase();
                    const estado = fila.querySelector('td:nth-child(5) .badge').textContent.toLowerCase();
                    
                    let mostrar = true;

                    // Filtro por estado
                    if (filtro === 'ACTIVOS' && !estado.includes('activo')) {
                        mostrar = false;
                    } else if (filtro === 'INACTIVOS' && !estado.includes('inactivo')) {
                        mostrar = false;
                    }

                    // B√∫squeda por texto
                    if (busqueda && !username.includes(busqueda) && !email.includes(busqueda)) {
                        mostrar = false;
                    }

                    fila.style.display = mostrar ? '' : 'none';
                    if (mostrar) usuariosVisibles++;
                });

                // Actualizar contador
                const badge = document.querySelector('.card-header .badge');
                if (badge) {
                    badge.textContent = `Mostrando: ${usuariosVisibles} de ${filas.length}`;
                }
            }

            // Event listeners
            btnBuscar.addEventListener('click', () => {
                aplicarFiltros('TODOS', buscarUsuario.value.toLowerCase());
            });

            buscarUsuario.addEventListener('input', () => {
                aplicarFiltros('TODOS', buscarUsuario.value.toLowerCase());
            });

            btnFiltrarActivos.addEventListener('click', () => {
                aplicarFiltros('ACTIVOS', buscarUsuario.value.toLowerCase());
            });

            btnFiltrarInactivos.addEventListener('click', () => {
                aplicarFiltros('INACTIVOS', buscarUsuario.value.toLowerCase());
            });

            btnMostrarTodos.addEventListener('click', () => {
                buscarUsuario.value = '';
                aplicarFiltros('TODOS', '');
            });

            // Aplicar filtros iniciales
            aplicarFiltros();
        });

        // Funci√≥n para ver detalles (simulada)
        function verDetalles(usuarioId) {
            alert(`Detalles del Usuario ID: ${usuarioId}\n\nEsta funcionalidad est√° en desarrollo.`);
        }

        // Auto-cerrar alertas despu√©s de 5 segundos
        setTimeout(() => {
            const alertas = document.querySelectorAll('.alert');
            alertas.forEach(alerta => {
                const bsAlert = new bootstrap.Alert(alerta);
                bsAlert.close();
            });
        }, 5000);
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\citas\agenda.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Agenda</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìÖ Mi Agenda M√©dica</h1>
            <a th:href="@{/medico/perfil}" class="btn btn-secondary">‚Üê Volver al Perfil</a>
        </div>

        <!-- Mensajes -->
        <div th:if="${param.completada}" class="alert alert-success">
            ‚úÖ Cita marcada como completada
        </div>

        <!-- Lista de Citas -->
        <div th:if="${citas != null and !citas.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Citas Programadas</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="cita : ${citas}" class="list-group-item">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 th:text="${cita.nombrePaciente}">Paciente</h6>
                                    <p class="mb-1">
                                        <strong>Fecha:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy')}">Fecha</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Hora:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'HH:mm')}">Hora</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${cita.motivo}">Motivo</span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Estado:</strong> 
                                        <span th:if="${cita.estado.name() == 'Programada'}" class="badge bg-warning">Programada</span>
                                        <span th:if="${cita.estado.name() == 'Completada'}" class="badge bg-success">Completada</span>
                                        <span th:if="${cita.estado.name() == 'Cancelada'}" class="badge bg-danger">Cancelada</span>
                                    </p>
                                </div>
                                <div th:if="${cita.estado.name() == 'Programada'}">
                                    <a th:href="@{/citas/completar/{id}(id=${cita.id})}" 
                                       class="btn btn-sm btn-success"
                                       onclick="return confirm('¬øMarcar esta cita como completada?')">
                                        ‚úÖ Completar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin citas -->
        <div th:if="${citas == null or citas.empty}" class="text-center py-5">
            <h4 class="text-muted">No tienes citas programadas</h4>
            <p class="text-muted">No hay citas agendadas para hoy</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\citas\form-nueva.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nueva Cita</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title mb-0">‚ûï Programar Nueva Cita</h4>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/citas/guardar}" method="post">
                            <!-- Paciente -->
                            <div class="mb-3">
                                <label class="form-label">Paciente:</label>
                                <select name="pacienteId" class="form-select" required>
                                    <option value="">Seleccionar paciente...</option>
                                    <option th:each="paciente : ${pacientes}" 
                                            th:value="${paciente.id}"
                                            th:text="${paciente.nombreCompleto}">
                                    </option>
                                </select>
                            </div>

                            <!-- M√©dico -->
                            <div class="mb-3">
                                <label class="form-label">M√©dico:</label>
                                <select name="medicoId" class="form-select" required>
                                    <option value="">Seleccionar m√©dico...</option>
                                    <option th:each="medico : ${medicos}" 
                                            th:value="${medico.id}"
                                            th:text="${medico.nombreCompleto + ' - ' + medico.especialidadNombre}">
                                    </option>
                                </select>
                            </div>

                            <!-- Fecha y Hora -->
                            <div class="mb-3">
                                <label class="form-label">Fecha y Hora:</label>
                                <input type="datetime-local" name="fechaHora" class="form-control" required>
                                <div class="form-text">Selecciona la fecha y hora para tu cita</div>
                            </div>

                            <!-- Motivo -->
                            <div class="mb-3">
                                <label class="form-label">Motivo de la consulta:</label>
                                <textarea name="motivo" class="form-control" rows="3" 
                                          placeholder="Describe brevemente el motivo de tu consulta..." required></textarea>
                            </div>

                            <!-- Botones -->
                            <div class="d-flex gap-2">
                                <button type="submit" class="btn btn-primary">üíæ Programar Cita</button>
                                <a th:href="@{/citas/mis-citas}" class="btn btn-secondary">‚Üê Cancelar</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\citas\lista.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todas las Citas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìÖ Todas las Citas</h1>
            <a th:href="@{/admin}" class="btn btn-secondary">‚Üê Volver al Admin</a>
        </div>

        <!-- Lista de Citas -->
        <div th:if="${citas != null and !citas.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Todas las Citas del Sistema</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="cita : ${citas}" class="list-group-item">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6 th:text="${cita.nombrePaciente + ' con ' + cita.nombreMedico}">Paciente con M√©dico</h6>
                                    <p class="mb-1">
                                        <strong>Fecha:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy')}">Fecha</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Hora:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'HH:mm')}">Hora</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${cita.motivo}">Motivo</span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Estado:</strong> 
                                        <span th:if="${cita.estado.name() == 'Programada'}" class="badge bg-warning">Programada</span>
                                        <span th:if="${cita.estado.name() == 'Completada'}" class="badge bg-success">Completada</span>
                                        <span th:if="${cita.estado.name() == 'Cancelada'}" class="badge bg-danger">Cancelada</span>
                                    </p>
                                </div>
                                <div class="col-md-4 text-end">
                                    <small class="text-muted">
                                        Registro: <span th:text="${#dates.format(cita.fechaRegistro, 'dd/MM/yyyy')}"></span>
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin citas -->
        <div th:if="${citas == null or citas.empty}" class="text-center py-5">
            <h4 class="text-muted">No hay citas en el sistema</h4>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\citas\mis-citas.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Citas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìÖ Mis Citas M√©dicas</h1>
            <div>
                <a th:href="@{/citas/nueva}" class="btn btn-primary">‚ûï Nueva Cita</a>
                <a th:href="@{/paciente/perfil}" class="btn btn-secondary">‚Üê Volver al Perfil</a>
            </div>
        </div>

        <!-- Mensajes -->
        <div th:if="${param.exito}" class="alert alert-success">
            ‚úÖ Cita programada exitosamente
        </div>
        <div th:if="${param.cancelada}" class="alert alert-info">
            üìù Cita cancelada
        </div>

        <!-- Lista de Citas -->
        <div th:if="${citas != null and !citas.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Mis Citas Programadas</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="cita : ${citas}" class="list-group-item">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 th:text="${cita.nombreMedico}">M√©dico</h6>
                                    <p class="mb-1">
                                        <strong>Especialidad:</strong> 
                                        <span th:text="${cita.especialidadMedico}">Especialidad</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Fecha:</strong> 
                                        <!-- CORREGIDO: Formato simplificado -->
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy')}">Fecha</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Hora:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'HH:mm')}">Hora</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${cita.motivo}">Motivo</span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Estado:</strong> 
                                        <span th:if="${cita.estado.name() == 'Programada'}" class="badge bg-warning">Programada</span>
                                        <span th:if="${cita.estado.name() == 'Completada'}" class="badge bg-success">Completada</span>
                                        <span th:if="${cita.estado.name() == 'Cancelada'}" class="badge bg-danger">Cancelada</span>
                                    </p>
                                </div>
                                <div th:if="${cita.estado.name() == 'Programada'}">
                                    <a th:href="@{/citas/cancelar/{id}(id=${cita.id})}" 
                                       class="btn btn-sm btn-outline-danger"
                                       onclick="return confirm('¬øEst√°s seguro de cancelar esta cita?')">
                                        ‚ùå Cancelar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin citas -->
        <div th:if="${citas == null or citas.empty}" class="text-center py-5">
            <h4 class="text-muted">No tienes citas programadas</h4>
            <p class="text-muted">Programa tu primera cita m√©dica</p>
            <a th:href="@{/citas/nueva}" class="btn btn-primary">‚ûï Programar Mi Primera Cita</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\historial\mi-historial.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Historial M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìã Mi Historial M√©dico</h1>
            <a th:href="@{/paciente/perfil}" class="btn btn-secondary">‚Üê Volver al Perfil</a>
        </div>

        <!-- Informaci√≥n del Paciente -->
        <div th:if="${paciente != null}" class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">Informaci√≥n del Paciente</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Nombre:</strong> <span th:text="${paciente.nombreCompleto}"></span></p>
                        <p><strong>DNI:</strong> <span th:text="${paciente.dni}"></span></p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Seguro M√©dico:</strong> <span th:text="${paciente.seguroMedico}"></span></p>
                        <p><strong>Total de registros:</strong> <span th:text="${historial != null ? historial.size() : 0}"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Historial M√©dico -->
        <div th:if="${historial != null and !historial.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Registros M√©dicos</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="registro : ${historial}" class="list-group-item">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6 th:text="${registro.nombreMedico}">M√©dico</h6>
                                    <p class="mb-1">
                                        <strong>Especialidad:</strong> 
                                        <span th:text="${registro.especialidadMedico}">Especialidad</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Fecha de consulta:</strong> 
                                        <span th:if="${registro.fechaCita != null}" 
                                              th:text="${#dates.format(registro.fechaCita, 'dd/MM/yyyy')}">Fecha</span>
                                        <span th:if="${registro.fechaCita == null}">No especificada</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${registro.motivoCita}">Motivo</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Notas m√©dicas:</strong> 
                                        <span th:text="${registro.notas}">Notas</span>
                                    </p>
                                    <p class="mb-0" th:if="${registro.archivosAdjuntos != null}">
                                        <strong>Archivos:</strong> 
                                        <span th:text="${registro.archivosAdjuntos}">Archivos</span>
                                    </p>
                                </div>
                                <div class="col-md-4 text-end">
                                    <small class="text-muted">
                                        Registrado: <span th:text="${#dates.format(registro.fechaRegistro, 'dd/MM/yyyy')}"></span>
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin historial -->
        <div th:if="${historial == null or historial.empty}" class="text-center py-5">
            <h4 class="text-muted">No hay registros m√©dicos</h4>
            <p class="text-muted">Tu historial m√©dico aparecer√° aqu√≠ despu√©s de tus consultas</p>
            <a th:href="@{/citas/nueva}" class="btn btn-primary">üìÖ Programar Mi Primera Consulta</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\medico\agenda.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Agenda - M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .agenda-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .badge-estado {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .filtros-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .cita-completada {
            background-color: #d4edda !important;
        }
        .cita-cancelada {
            background-color: #f8d7da !important;
        }
        .cita-pendiente {
            background-color: #fff3cd !important;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="agenda-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-calendar-alt me-2"></i>Mi Agenda</h1>
                    <p class="lead mb-0">Gesti√≥n de citas y consultas programadas</p>
                    <p class="mb-0" th:if="${medico != null}">
                        Dr. <span th:text="${medico.nombreCompleto}"></span> - 
                        <span class="badge bg-light text-dark" th:text="${medico.especialidadNombre}"></span>
                    </p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/medico/perfil}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Perfil
                    </a>
                </div>
            </div>
        </div>

        <!-- Estad√≠sticas R√°pidas -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.size() : 0}" class="text-primary">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citasPendientes != null ? citasPendientes : 0}" class="text-warning">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citasCompletadas != null ? citasCompletadas : 0}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citasCanceladas != null ? citasCanceladas : 0}" class="text-danger">0</h2>
                        <p class="card-text">Citas Canceladas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filtros y B√∫squeda -->
        <div class="filtros-container">
            <div class="row align-items-center">
                <div class="col-md-4">
                    <label for="filtroEstado" class="form-label">Filtrar por Estado:</label>
                    <select class="form-select" id="filtroEstado">
                        <option value="TODAS">Todas las citas</option>
                        <option value="PENDIENTE">Pendientes</option>
                        <option value="PROGRAMADA">Programadas</option>
                        <option value="COMPLETADA">Completadas</option>
                        <option value="ATENDIDA">Atendidas</option>
                        <option value="CANCELADA">Canceladas</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="filtroFecha" class="form-label">Filtrar por Fecha:</label>
                    <input type="date" class="form-control" id="filtroFecha">
                </div>
                <div class="col-md-4">
                    <label for="buscarPaciente" class="form-label">Buscar Paciente:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="buscarPaciente" placeholder="Nombre del paciente...">
                        <button class="btn btn-primary" type="button" id="btnBuscar">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Citas -->
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de Citas
                </h5>
            </div>
            <div class="card-body">
                <!-- Mensaje si no hay citas -->
                <div th:if="${citas == null or citas.empty}" class="text-center py-5">
                    <i class="fas fa-calendar-times fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay citas programadas</h4>
                    <p class="text-muted">No se encontraron citas en tu agenda.</p>
                </div>

                <!-- Lista de citas -->
                <div th:if="${citas != null and not citas.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Fecha y Hora</th>
                                    <th>Paciente</th>
                                    <th>Motivo</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="cita : ${citas}" th:id="'cita-' + ${citaStat.index}">
                                    <td>
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy HH:mm')}">Fecha</span>
                                    </td>
                                    <td>
                                        <strong th:text="${cita.paciente != null ? cita.paciente.nombreCompleto : 'N/A'}">Paciente</strong>
                                        <br>
                                        <small class="text-muted" th:if="${cita.paciente != null and cita.paciente.persona != null}" 
                                               th:text="${cita.paciente.persona.dni}">DNI</small>
                                    </td>
                                    <td th:text="${cita.motivo != null ? cita.motivo : 'Consulta m√©dica'}">Motivo</td>
                                    <td>
                                        <span th:switch="${cita.estado.name()}">
                                            <span th:case="'PENDIENTE'" class="badge bg-warning badge-estado">Pendiente</span>
                                            <span th:case="'PROGRAMADA'" class="badge bg-info badge-estado">Programada</span>
                                            <span th:case="'COMPLETADA'" class="badge bg-success badge-estado">Completada</span>
                                            <span th:case="'ATENDIDA'" class="badge bg-success badge-estado">Atendida</span>
                                            <span th:case="'CANCELADA'" class="badge bg-danger badge-estado">Cancelada</span>
                                            <span th:case="*" class="badge bg-secondary badge-estado" th:text="${cita.estado.name()}">Estado</span>
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button class="btn btn-outline-primary btn-atender" 
                                                    th:if="${cita.estado.name() == 'PENDIENTE' or cita.estado.name() == 'PROGRAMADA'}">
                                                <i class="fas fa-stethoscope"></i>
                                            </button>
                                            <button class="btn btn-outline-success btn-completar" 
                                                    th:if="${cita.estado.name() == 'PENDIENTE' or cita.estado.name() == 'PROGRAMADA'}">
                                                <i class="fas fa-check"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-cancelar" 
                                                    th:if="${cita.estado.name() == 'PENDIENTE' or cita.estado.name() == 'PROGRAMADA'}">
                                                <i class="fas fa-times"></i>
                                            </button>
                                            <button class="btn btn-outline-info btn-detalles">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Acciones R√°pidas -->
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body text-center">
                        <h5><i class="fas fa-plus-circle text-success me-2"></i>Nueva Cita</h5>
                        <p class="text-muted">Programar una nueva cita con un paciente</p>
                        <button class="btn btn-success" id="btnNuevaCita">
                            <i class="fas fa-plus me-1"></i>Crear Cita
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body text-center">
                        <h5><i class="fas fa-sync-alt text-primary me-2"></i>Sincronizar</h5>
                        <p class="text-muted">Actualizar la agenda con los √∫ltimos cambios</p>
                        <button class="btn btn-primary" onclick="location.reload()">
                            <i class="fas fa-sync-alt me-1"></i>Actualizar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Informaci√≥n del Sistema -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Usuario:</strong> <span th:text="${medico != null ? medico.nombreCompleto : 'M√©dico'}"></span> | 
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span> |
                    <strong>Total de citas cargadas:</strong> <span th:text="${citas != null ? citas.size() : 0}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Filtros de b√∫squeda
        document.addEventListener('DOMContentLoaded', function() {
            const filtroEstado = document.getElementById('filtroEstado');
            const filtroFecha = document.getElementById('filtroFecha');
            const buscarPaciente = document.getElementById('buscarPaciente');
            const btnBuscar = document.getElementById('btnBuscar');
            const btnNuevaCita = document.getElementById('btnNuevaCita');
            
            // Establecer fecha actual como valor por defecto
            const today = new Date().toISOString().split('T')[0];
            filtroFecha.value = today;
            
            // Aplicar colores iniciales
            aplicarColoresEstados();
            
            // Funcionalidad de filtros
            function aplicarFiltros() {
                const estado = filtroEstado.value;
                const fecha = filtroFecha.value;
                const paciente = buscarPaciente.value.toLowerCase();
                
                console.log('Aplicando filtros:', { estado, fecha, paciente });
                
                // Filtrar filas de la tabla
                const filas = document.querySelectorAll('tbody tr');
                filas.forEach(fila => {
                    const estadoFila = fila.querySelector('.badge').textContent.trim().toLowerCase();
                    const nombrePaciente = fila.querySelector('strong').textContent.toLowerCase();
                    const fechaCita = fila.querySelector('td:first-child').textContent;
                    
                    let mostrar = true;
                    
                    if (estado !== 'TODAS' && !estadoFila.includes(estado.toLowerCase())) {
                        mostrar = false;
                    }
                    
                    if (paciente && !nombrePaciente.includes(paciente)) {
                        mostrar = false;
                    }
                    
                    if (fecha) {
                        const fechaFormateada = new Date(fecha).toLocaleDateString('es-ES');
                        if (!fechaCita.includes(fechaFormateada)) {
                            mostrar = false;
                        }
                    }
                    
                    fila.style.display = mostrar ? '' : 'none';
                });
            }
            
            // Event listeners
            filtroEstado.addEventListener('change', aplicarFiltros);
            filtroFecha.addEventListener('change', aplicarFiltros);
            buscarPaciente.addEventListener('input', aplicarFiltros);
            btnBuscar.addEventListener('click', aplicarFiltros);
            
            // Bot√≥n nueva cita
            btnNuevaCita.addEventListener('click', function() {
                simularAccion('Crear nueva cita', 'Sistema');
            });
            
            // Event listeners para botones de acciones
            document.addEventListener('click', function(e) {
                if (e.target.closest('.btn-atender')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Atender', paciente);
                }
                else if (e.target.closest('.btn-completar')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Completar', paciente);
                }
                else if (e.target.closest('.btn-cancelar')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Cancelar', paciente);
                }
                else if (e.target.closest('.btn-detalles')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Ver detalles', paciente);
                }
            });
        });
        
        // Aplicar colores a las filas seg√∫n el estado
        function aplicarColoresEstados() {
            const filas = document.querySelectorAll('tbody tr');
            filas.forEach(fila => {
                const estado = fila.querySelector('.badge').textContent.trim();
                
                // Remover clases anteriores
                fila.classList.remove('cita-completada', 'cita-cancelada', 'cita-pendiente');
                
                // Aplicar nueva clase seg√∫n estado
                if (estado === 'Completada' || estado === 'Atendida') {
                    fila.classList.add('cita-completada');
                } else if (estado === 'Cancelada') {
                    fila.classList.add('cita-cancelada');
                } else if (estado === 'Pendiente' || estado === 'Programada') {
                    fila.classList.add('cita-pendiente');
                }
            });
        }
        
        // Simular acciones de botones
        function simularAccion(accion, paciente) {
            alert(`Acci√≥n: ${accion}\nPaciente: ${paciente}\n\nEsta funcionalidad est√° en desarrollo.`);
            return false;
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\medico\buscar.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Buscar M√©dicos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Buscar M√©dicos</h2>
        
        <!-- Formulario de B√∫squeda -->
        <div class="card mb-4">
            <div class="card-body">
                <form th:action="@{/medico/buscar}" method="get">
                    <div class="row">
                        <div class="col-md-6">
                            <label for="nombre" class="form-label">Buscar por Nombre</label>
                            <input type="text" class="form-control" id="nombre" name="nombre" 
                                   th:value="${param.nombre}" placeholder="Ingrese nombre del m√©dico">
                        </div>
                        <div class="col-md-6">
                            <label for="especialidadId" class="form-label">Buscar por Especialidad</label>
                            <select class="form-select" id="especialidadId" name="especialidadId">
                                <option value="">Todas las especialidades</option>
                                <option th:each="esp : ${especialidades}" 
                                        th:value="${esp.id}" 
                                        th:text="${esp.nombre}"
                                        th:selected="${param.especialidadId != null and param.especialidadId[0] == esp.id}">
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-3">
                        <button type="submit" class="btn btn-primary">Buscar</button>
                        <a th:href="@{/medico/buscar}" class="btn btn-secondary">Limpiar</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Resultados de B√∫squeda -->
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    M√©dicos Disponibles
                    <span th:if="${medicos != null}" class="badge bg-secondary" th:text="${medicos.size()}"></span>
                </h5>
            </div>
            <div class="card-body">
                <div th:if="${medicos != null and medicos.empty}">
                    <div class="alert alert-warning">No se encontraron m√©dicos con los criterios de b√∫squeda.</div>
                </div>
                
                <div th:if="${medicos != null and !medicos.empty}">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Especialidad</th>
                                    <th>Email</th>
                                    <th>Tel√©fono</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="medico : ${medicos}">
                                    <td th:text="${medico.nombreCompleto}"></td>
                                    <td th:text="${medico.especialidadNombre} ?: 'Sin especialidad'"></td>
                                    <td th:text="${medico.persona.email} ?: '-'"></td>
                                    <td th:text="${medico.persona.telefono} ?: '-'"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navegaci√≥n -->
        <div class="mt-3">
            <a th:href="@{/}" class="btn btn-outline-secondary">Inicio</a>
            <a th:href="@{/paciente/buscar-medicos}" class="btn btn-outline-primary ms-2">Buscar como Paciente</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\medico\mis-pacientes.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Pacientes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1>üë• Mis Pacientes</h1>
                <p class="text-muted mb-0" th:if="${medico != null}">
                    Dr. <span th:text="${medico.nombreCompleto}"></span> - 
                    <span th:text="${medico.especialidadNombre}"></span>
                </p>
            </div>
            <div>
                <a th:href="@{/medico/agenda}" class="btn btn-primary">üìÖ Mi Agenda</a>
                <a th:href="@{/medico/perfil}" class="btn btn-secondary">‚Üê Mi Perfil</a>
            </div>
        </div>

        <!-- Estad√≠sticas -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Resumen de Pacientes</h5>
                        <p class="card-text">
                            Has atendido a <strong th:text="${totalPacientes}">0</strong> pacientes en total.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Pacientes -->
        <div th:if="${pacientes != null and !pacientes.empty}">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="card-title mb-0">üìã Lista de Pacientes Atendidos</h5>
                    <span class="badge bg-primary" th:text="'Total: ' + ${totalPacientes}"></span>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="paciente : ${pacientes}" class="list-group-item">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6 th:text="${paciente.nombreCompleto}">Nombre del Paciente</h6>
                                    <p class="mb-1">
                                        <strong>DNI:</strong> 
                                        <span th:text="${paciente.dni}">DNI</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Seguro M√©dico:</strong> 
                                        <span th:text="${paciente.seguroMedico != null ? paciente.seguroMedico : 'No especificado'}"
                                              class="badge bg-info"></span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Contacto:</strong> 
                                        <span th:if="${paciente.persona != null and paciente.persona.telefono != null}"
                                              th:text="${paciente.persona.telefono}">Tel√©fono</span>
                                        <span th:if="${paciente.persona == null or paciente.persona.telefono == null}"
                                              class="text-muted">No disponible</span>
                                    </p>
                                </div>
                                <div class="col-md-4 text-end">
                                    <div class="btn-group">
                                        <button class="btn btn-sm btn-outline-primary">
                                            üìû Contactar
                                        </button>
                                        <button class="btn btn-sm btn-outline-info">
                                            üìã Historial
                                        </button>
                                    </div>
                                    <br>
                                    <small class="text-muted">
                                        √öltima consulta: <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy')}">Fecha</span>
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin pacientes -->
        <div th:if="${pacientes == null or pacientes.empty}" class="text-center py-5">
            <h4 class="text-muted">No has atendido pacientes a√∫n</h4>
            <p class="text-muted">Los pacientes que atiendas aparecer√°n en esta lista</p>
            <a th:href="@{/}" class="btn btn-primary">üè† Volver al Inicio</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\medico\pacientes.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Pacientes - M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/medico/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/medico/pacientes}">Mis Pacientes</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">üë• Mis Pacientes</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${medico}">
                    <h5>Dr. <span th:text="${medico.persona.nombre + ' ' + medico.persona.apellido}"></span></h5>
                    <p class="text-muted" th:text="${mensaje}">Funcionalidad en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Lista de pacientes asignados</li>
                            <li>‚úÖ Historial m√©dico por paciente</li>
                            <li>‚úÖ Gesti√≥n de tratamientos</li>
                            <li>‚úÖ Comunicaci√≥n con pacientes</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/medico/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\medico\perfil.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Perfil - M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .profile-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .action-card {
            transition: all 0.3s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .action-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Header con Informaci√≥n del M√©dico -->
        <div class="profile-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1>üë®‚Äç‚öïÔ∏è Mi Perfil M√©dico</h1>
                    <p class="lead mb-0" th:if="${medico != null}">
                        Dr. <span th:text="${medico.nombreCompleto}"></span>
                    </p>
                    <p th:if="${medico != null}">
                        <span class="badge bg-light text-dark" th:text="${medico.especialidadNombre}"></span>
                    </p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/}" class="btn btn-light">üè† Inicio</a>
                    <a th:href="@{/logout}" class="btn btn-outline-light">üö™ Cerrar Sesi√≥n</a>
                </div>
            </div>
        </div>

        <!-- Tarjeta de Informaci√≥n Personal -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">üìã Informaci√≥n Personal</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Nombre Completo:</strong> 
                            <span th:text="${medico.nombreCompleto}"></span>
                        </p>
                        <p><strong>Especialidad:</strong> 
                            <span class="badge bg-info" th:text="${medico.especialidadNombre}"></span>
                        </p>
                        <p th:if="${medico.persona != null and medico.persona.email != null}">
                            <strong>Email:</strong> 
                            <span th:text="${medico.persona.email}"></span>
                        </p>
                    </div>
                    <div class="col-md-6">
                        <p th:if="${medico.persona != null and medico.persona.telefono != null}">
                            <strong>Tel√©fono:</strong> 
                            <span th:text="${medico.persona.telefono}"></span>
                        </p>
                        <p th:if="${medico.persona != null and medico.persona.dni != null}">
                            <strong>DNI:</strong> 
                            <span th:text="${medico.persona.dni}"></span>
                        </p>
                        <p th:if="${medico.persona != null and (medico.persona.distrito != null or medico.persona.provincia != null)}">
                            <strong>Ubicaci√≥n:</strong> 
                            <span th:text="${medico.persona.distrito + ', ' + medico.persona.provincia}"></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Estad√≠sticas R√°pidas -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalCitas != null ? totalCitas : 0}" class="text-primary">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalPacientes != null ? totalPacientes : 0}" class="text-success">0</h2>
                        <p class="card-text">Pacientes Atendidos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${medico.especialidadNombre != null ? 'Especialista' : 'General'}" 
                            class="text-info">Especialidad</h2>
                        <p class="card-text">√Årea M√©dica</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="'Activo'" class="text-success">Estado</h2>
                        <p class="card-text">Disponible</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS - SOLO MI AGENDA Y MIS PACIENTES -->
        <h4 class="mb-3">üöÄ Acciones R√°pidas</h4>
        <div class="row mb-4">
            <!-- Mi Agenda -->
            <div class="col-md-6 mb-3">
                <div class="card action-card h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <span style="font-size: 2.5rem;">üìÖ</span>
                        </div>
                        <h5 class="card-title">Mi Agenda</h5>
                        <p class="card-text">Gestiona tus citas y consultas programadas</p>
                        <a th:href="@{/medico/agenda}" class="btn btn-primary">
                            Ver Agenda Completa
                        </a>
                    </div>
                </div>
            </div>

            <!-- Mis Pacientes -->
            <div class="col-md-6 mb-3">
                <div class="card action-card h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <span style="font-size: 2.5rem;">üë•</span>
                        </div>
                        <h5 class="card-title">Mis Pacientes</h5>
                        <p class="card-text">Lista de pacientes que has atendido</p>
                        <a th:href="@{/medico/mis-pacientes}" class="btn btn-info">
                            Ver Pacientes
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mensajes de Error -->
        <div th:if="${error}" class="alert alert-danger mt-4" role="alert">
            <h5>‚ö†Ô∏è Error</h5>
            <p class="mb-0" th:text="${error}"></p>
        </div>

        <!-- Mensajes de √âxito -->
        <div th:if="${param.exito}" class="alert alert-success mt-4" role="alert">
            <h5>‚úÖ √âxito</h5>
            <p class="mb-0">Operaci√≥n realizada correctamente</p>
        </div>

        <!-- Informaci√≥n Adicional -->
        <div class="card mt-4">
            <div class="card-body">
                <h6>üí° Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Usuario:</strong> medico01 | 
                    <strong>Rol:</strong> M√©dico | 
                    <strong>√öltimo acceso:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos simples para mejorar la experiencia
        document.addEventListener('DOMContentLoaded', function() {
            // Agregar efecto de carga a las tarjetas
            const cards = document.querySelectorAll('.action-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\paciente\buscar-medicos.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Buscar M√©dicos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .medico-card {
            transition: transform 0.2s;
            border-left: 4px solid #0d6efd;
        }
        .medico-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>Buscar M√©dicos</h1>
            <a th:href="@{/paciente/perfil}" class="btn btn-outline-secondary">
                ‚Üê Volver al Perfil
            </a>
        </div>

        <!-- Formulario de B√∫squeda -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">Criterios de B√∫squeda</h5>
            </div>
            <div class="card-body">
                <form th:action="@{/paciente/buscar-medicos}" method="get">
                    <div class="row g-3">
                        <!-- B√∫squeda por Nombre -->
                        <div class="col-md-6">
                            <label class="form-label">Buscar por Nombre</label>
                            <input type="text" name="nombre" class="form-control" 
                                   th:value="${nombreBuscado}" 
                                   placeholder="Ingrese nombre del m√©dico">
                        </div>
                        
                        <!-- B√∫squeda por Especialidad -->
                        <div class="col-md-6">
                            <label class="form-label">Buscar por Especialidad</label>
                            <select name="especialidadId" class="form-control">
                                <option value="">Todas las especialidades</option>
                                <option th:each="esp : ${especialidades}" 
                                        th:value="${esp.id}" 
                                        th:text="${esp.nombre}"
                                        th:selected="${especialidadSeleccionada == esp.id}">
                                </option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Botones -->
                    <div class="row mt-3">
                        <div class="col-md-12">
                            <button type="submit" class="btn btn-primary">
                                üîç Buscar
                            </button>
                            <a th:href="@{/paciente/buscar-medicos}" class="btn btn-outline-secondary">
                                üóëÔ∏è Limpiar
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Resultados -->
        <div th:if="${medicos != null}">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h2>M√©dicos Disponibles</h2>
                <span class="badge bg-primary" th:text="'Encontrados: ' + ${medicos.size()}"></span>
            </div>

            <!-- Mensaje si no hay resultados -->
            <div th:if="${medicos.empty}" class="alert alert-warning">
                No se encontraron m√©dicos con los criterios de b√∫squeda seleccionados.
            </div>

            <!-- Lista de M√©dicos -->
            <div th:each="medico : ${medicos}" class="card medico-card mb-3">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-8">
                            <h5 class="card-title" th:text="${medico.nombreCompleto}">Nombre del M√©dico</h5>
                            <p class="card-text mb-1">
                                <strong>Especialidad:</strong> 
                                <span class="badge bg-info" th:text="${medico.especialidadNombre}">Especialidad</span>
                            </p>
                            <p class="card-text mb-1" th:if="${medico.persona?.email}">
                                <strong>Email:</strong> 
                                <span th:text="${medico.persona.email}">email@ejemplo.com</span>
                            </p>
                            <p class="card-text mb-1" th:if="${medico.persona?.telefono}">
                                <strong>Tel√©fono:</strong> 
                                <span th:text="${medico.persona.telefono}">900000000</span>
                            </p>
                        </div>
                        <div class="col-md-4 text-end">
                            <button class="btn btn-success btn-sm">
                                üìÖ Solicitar Cita
                            </button>
                            <br>
                            <small class="text-muted">Disponible para consulta</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Informaci√≥n del Paciente (contexto) -->
        <div class="card mt-4">
            <div class="card-body bg-light">
                <h6>Buscando como Paciente:</h6>
                <p class="mb-0" th:if="${paciente != null}">
                    <strong th:text="${paciente.nombreCompleto}"></strong> | 
                    <span th:text="${paciente.seguroMedico} ?: 'Sin seguro m√©dico'"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\paciente\citas.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Citas - Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/paciente/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/paciente/citas}">Mis Citas</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-info text-white">
                <h4 class="mb-0">üìÖ Mis Citas M√©dicas</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${paciente}">
                    <h5 th:text="'Paciente: ' + ${paciente.persona.nombre} + ' ' + ${paciente.persona.apellido}"></h5>
                    <p class="text-muted" th:text="${mensaje}">Funcionalidad de citas en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Ver citas programadas</li>
                            <li>‚úÖ Cancelar o reprogramar citas</li>
                            <li>‚úÖ Recordatorios autom√°ticos</li>
                            <li>‚úÖ Historial de citas pasadas</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/paciente/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\paciente\editar-perfil.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Editar Perfil - Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/paciente/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/paciente/editar}">Editar Perfil</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-warning text-white">
                <h4 class="mb-0">‚úèÔ∏è Editar Mi Perfil</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${paciente}">
                    <h5 th:text="'Paciente: ' + ${paciente.persona.nombre} + ' ' + ${paciente.persona.apellido}"></h5>
                    <p class="text-muted">Funcionalidad de edici√≥n de perfil en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Actualizar datos de contacto</li>
                            <li>‚úÖ Modificar informaci√≥n m√©dica</li>
                            <li>‚úÖ Cambiar direcci√≥n</li>
                            <li>‚úÖ Actualizar seguro m√©dico</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/paciente/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\paciente\historial.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Historial - Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/paciente/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/paciente/historial}">Mi Historial</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">üìã Mi Historial M√©dico</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${paciente}">
                    <h5 th:text="'Paciente: ' + ${paciente.persona.nombre} + ' ' + ${paciente.persona.apellido}"></h5>
                    <p class="text-muted" th:text="${mensaje}">Funcionalidad de historial en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Ver consultas anteriores</li>
                            <li>‚úÖ Historial de diagn√≥sticos</li>
                            <li>‚úÖ Recetas y tratamientos</li>
                            <li>‚úÖ Resultados de ex√°menes</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/paciente/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\paciente\perfil.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Perfil del Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>Mi Perfil - Paciente</h1>
            <a th:href="@{/}" class="btn btn-outline-secondary">Cerrar Sesi√≥n</a>
        </div>

        <!-- Tarjeta de Perfil -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">Informaci√≥n Personal</h5>
            </div>
            <div class="card-body">
                <div th:if="${paciente != null}">
                    <p><strong>Nombre:</strong> <span th:text="${paciente.nombreCompleto}"></span></p>
                    <p><strong>DNI:</strong> <span th:text="${paciente.dni}"></span></p>
                    <p><strong>Seguro M√©dico:</strong> <span th:text="${paciente.seguroMedico}"></span></p>
                </div>
                <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS -->
        <div class="row">
            <!-- Buscar M√©dicos -->
            <div class="col-md-4 mb-3">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">Buscar M√©dicos</h5>
                        <p class="card-text">Encuentra especialistas seg√∫n tus necesidades m√©dicas.</p>
                        <a th:href="@{/paciente/buscar-medicos}" class="btn btn-primary">
                            Buscar M√©dicos
                        </a>
                    </div>
                </div>
            </div>

            <!-- Mis Citas -->
            <div class="col-md-4 mb-3">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">Mis Citas</h5>
                        <p class="card-text">Gestiona tus citas m√©dicas programadas.</p>
                        <!-- BOT√ìN CORREGIDO -->
                        <a th:href="@{/citas/mis-citas}" class="btn btn-info">
                            üìÖ Ver Mis Citas
                        </a>
                    </div>
                </div>
            </div>

            <!-- Mi Historial -->
			<div class="col-md-4 mb-3">
			    <div class="card h-100">
			        <div class="card-body text-center">
			            <h5 class="card-title">Mi Historial</h5>
			            <p class="card-text">Consulta tu historial m√©dico completo.</p>
			            <!-- BOT√ìN CORREGIDO -->
			            <a th:href="@{/historial/mi-historial}" class="btn btn-warning">
			                üìã Ver Mi Historial
			            </a>
			        </div>
			    </div>
			</div>
        </div>

        <!-- Botones adicionales -->
        <div class="mt-4">
            <a th:href="@{/paciente/editar}" class="btn btn-outline-primary">Editar Perfil</a>
            <a th:href="@{/}" class="btn btn-outline-secondary ms-2">Volver al Inicio</a>
            <!-- BOT√ìN ALTERNATIVO PARA CITAS -->
            <a th:href="@{/citas/mis-citas}" class="btn btn-primary ms-2">üìÖ Ir a Mis Citas</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\src\main\resources\templates\paciente\registro.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registro de Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3 class="text-center">Completar Perfil de Paciente</h3>
                    </div>
                    <div class="card-body">
                        <!-- Mensajes de √©xito/error -->
                        <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
                        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

                        <form th:action="@{/paciente/registrar}" method="post">
                            <div class="mb-3">
                                <label for="dni" class="form-label">DNI *</label>
                                <input type="text" class="form-control" id="dni" name="dni" 
                                       pattern="[0-9]{8}" title="8 d√≠gitos num√©ricos" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="nombre" class="form-label">Nombres *</label>
                                <input type="text" class="form-control" id="nombre" name="nombre" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="apellido" class="form-label">Apellidos *</label>
                                <input type="text" class="form-control" id="apellido" name="apellido" required>
                            </div>
                            
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">Completar Registro</button>
                            </div>
                        </form>
                        
                        <div class="mt-3 text-center">
                            <a th:href="@{/}" class="btn btn-secondary">Volver al Inicio</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\form-usuario.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registrar Usuario - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>üìù Registrar Nuevo Usuario</h2>
        
        <div class="card">
            <div class="card-body">
                <form th:action="@{/admin/usuarios/guardar}" th:object="${usuario}" method="post">
                    
                    <div class="mb-3">
                        <label for="username" class="form-label">Username:</label>
                        <input type="text" class="form-control" id="username" 
                               th:field="*{username}" required
                               placeholder="Ingrese el nombre de usuario">
                        <div class="form-text">El username debe ser √∫nico.</div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input type="email" class="form-control" id="email" 
                               th:field="*{email}"
                               placeholder="usuario@ejemplo.com">
                    </div>

                    <div class="mb-3">
                        <label for="passwordHash" class="form-label">Password Temporal:</label>
                        <input type="text" class="form-control" id="passwordHash" 
                               th:field="*{passwordHash}" 
                               value="temp_password"
                               placeholder="Password temporal">
                        <div class="form-text">Por ahora usamos un password temporal.</div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="estado" class="form-label">Estado:</label>
                        <select class="form-control" id="estado" th:field="*{estado}">
                            <option value="1">‚úÖ Activo</option>
                            <option value="0">‚ùå Inactivo</option>
                        </select>
                    </div>
                    
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary">üíæ Guardar Usuario</button>
                        <a th:href="@{/admin/usuarios}" class="btn btn-secondary">‚Ü©Ô∏è Cancelar</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\lista-usuarios.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de Usuarios - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>üè• Administrador - Gesti√≥n de Usuarios</h2>
        
        <!-- Mensaje de √©xito -->
        <div th:if="${param.exito}" class="alert alert-success alert-dismissible fade show">
            ‚úÖ Usuario guardado exitosamente!
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>

        <!-- Bot√≥n nuevo usuario -->
        <a th:href="@{/admin/usuarios/nuevo}" class="btn btn-success mb-3">‚ûï Nuevo Usuario</a>

        <!-- Tabla de usuarios -->
        <div class="card">
            <div class="card-body">
                <table class="table table-striped table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>Username</th>
                            <th>Email</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="usuario : ${usuarios}">
                            <td th:text="${usuario.id}"></td>
                            <td th:text="${usuario.username}"></td>
                            <td th:text="${usuario.email}"></td>
                            <td>
                                <span th:if="${usuario.estado == 1}" class="badge bg-success">Activo</span>
                                <span th:if="${usuario.estado == 0}" class="badge bg-danger">Inactivo</span>
                            </td>
                            <td>
                                <a th:href="@{/admin/usuarios/estado/{id}(id=${usuario.id})}" 
                                   class="btn btn-warning btn-sm">
                                   <span th:if="${usuario.estado == 1}">‚ùå Desactivar</span>
                                   <span th:if="${usuario.estado == 0}">‚úÖ Activar</span>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\admin\citas.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de Citas - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .filtros-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .badge-estado {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .table-hover tbody tr:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-calendar-alt me-2"></i>Gesti√≥n de Citas</h1>
                    <p class="lead mb-0">Todas las citas del sistema - Vista Administrador</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                    <a th:href="@{/admin/usuarios}" class="btn btn-light">
                        <i class="fas fa-users me-1"></i>Usuarios
                    </a>
                </div>
            </div>
        </div>

        <!-- FILTROS -->
        <div class="filtros-container">
            <div class="row align-items-center">
                <div class="col-md-4">
                    <label for="filtroEstado" class="form-label">Filtrar por Estado:</label>
                    <select class="form-select" id="filtroEstado">
                        <option value="TODAS">Todas las citas</option>
                        <option value="Programada">Pendientes</option>
                        <option value="Completada">Completadas</option>
                        <option value="Cancelada">Canceladas</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="filtroFecha" class="form-label">Filtrar por Fecha:</label>
                    <input type="date" class="form-control" id="filtroFecha">
                </div>
                <div class="col-md-4">
                    <label for="buscarPaciente" class="form-label">Buscar Paciente:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="buscarPaciente" placeholder="Nombre del paciente...">
                        <button class="btn btn-primary" type="button" id="btnBuscar">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS R√ÅPIDAS -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.size() : 0}" class="text-primary">0</h2>
                        <p class="card-text">Total de Citas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.?[estado.name() == 'Programada'].size() : 0}" class="text-warning">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.?[estado.name() == 'Completada'].size() : 0}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- LISTA DE CITAS -->
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de Todas las Citas
                </h5>
            </div>
            <div class="card-body">
                <!-- Mensaje si no hay citas -->
                <div th:if="${citas == null or citas.empty}" class="text-center py-5">
                    <i class="fas fa-calendar-times fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay citas en el sistema</h4>
                    <p class="text-muted">No se encontraron citas programadas.</p>
                </div>

                <!-- Lista de citas -->
                <div th:if="${citas != null and not citas.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Fecha y Hora</th>
                                    <th>Paciente</th>
                                    <th>M√©dico</th>
                                    <th>Especialidad</th>
                                    <th>Motivo</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="cita : ${citas}">
                                    <td th:text="${cita.id}">#</td>
                                    <td>
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy HH:mm')}">Fecha</span>
                                    </td>
                                    <td>
                                        <strong th:text="${cita.paciente != null ? cita.paciente.nombreCompleto : 'N/A'}">Paciente</strong>
                                        <br>
                                        <small class="text-muted" th:text="${cita.paciente != null ? cita.paciente.dni : ''}">DNI</small>
                                    </td>
                                    <td>
                                        <strong th:text="${cita.medico != null ? cita.medico.nombreCompleto : 'N/A'}">M√©dico</strong>
                                    </td>
                                    <td th:text="${cita.medico != null ? cita.medico.especialidadNombre : 'N/A'}">Especialidad</td>
                                    <td th:text="${cita.motivo != null ? cita.motivo : 'Consulta m√©dica'}">Motivo</td>
                                    <td>
                                        <span th:switch="${cita.estado.name()}">
                                            <span th:case="'Programada'" class="badge bg-warning badge-estado">Pendiente</span>
                                            <span th:case="'Completada'" class="badge bg-success badge-estado">Completada</span>
                                            <span th:case="'Cancelada'" class="badge bg-danger badge-estado">Cancelada</span>
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button class="btn btn-outline-info" th:title="'Ver detalles de cita ' + ${cita.id}">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-outline-warning" 
                                                    th:if="${cita.estado.name() == 'Programada'}"
                                                    th:title="'Cancelar cita de ' + ${cita.paciente != null ? cita.paciente.nombreCompleto : 'paciente'}">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Vista:</strong> Administrador | 
                    <strong>Total de citas cargadas:</strong> <span th:text="${citas != null ? citas.size() : 0}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Filtros de b√∫squeda
        document.addEventListener('DOMContentLoaded', function() {
            const filtroEstado = document.getElementById('filtroEstado');
            const filtroFecha = document.getElementById('filtroFecha');
            const buscarPaciente = document.getElementById('buscarPaciente');
            const btnBuscar = document.getElementById('btnBuscar');
            
            // Establecer fecha actual como valor por defecto
            const today = new Date().toISOString().split('T')[0];
            filtroFecha.value = today;
            
            // Funcionalidad de filtros
            function aplicarFiltros() {
                const estado = filtroEstado.value;
                const fecha = filtroFecha.value;
                const paciente = buscarPaciente.value.toLowerCase();
                
                console.log('Aplicando filtros:', { estado, fecha, paciente });
                
                // Filtrar filas de la tabla
                const filas = document.querySelectorAll('tbody tr');
                filas.forEach(fila => {
                    const estadoFila = fila.querySelector('.badge').textContent.trim().toLowerCase();
                    const nombrePaciente = fila.querySelector('td:nth-child(3) strong').textContent.toLowerCase();
                    const fechaCita = fila.querySelector('td:nth-child(2)').textContent;
                    
                    let mostrar = true;
                    
                    if (estado !== 'TODAS' && !estadoFila.includes(estado.toLowerCase())) {
                        mostrar = false;
                    }
                    
                    if (paciente && !nombrePaciente.includes(paciente)) {
                        mostrar = false;
                    }
                    
                    if (fecha) {
                        const fechaFormateada = new Date(fecha).toLocaleDateString('es-ES');
                        if (!fechaCita.includes(fechaFormateada)) {
                            mostrar = false;
                        }
                    }
                    
                    fila.style.display = mostrar ? '' : 'none';
                });
            }
            
            filtroEstado.addEventListener('change', aplicarFiltros);
            filtroFecha.addEventListener('change', aplicarFiltros);
            buscarPaciente.addEventListener('input', aplicarFiltros);
            btnBuscar.addEventListener('click', aplicarFiltros);
        });
        
        // Simular acciones de botones
        function simularAccion(accion, citaId, paciente) {
            alert(`Acci√≥n: ${accion}\nCita ID: ${citaId}\nPaciente: ${paciente}\n\nEsta funcionalidad est√° en desarrollo.`);
            return false;
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\admin\dashboard.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .stat-card.users { border-left-color: #007bff; }
        .stat-card.medicos { border-left-color: #28a745; }
        .stat-card.pacientes { border-left-color: #ffc107; }
        .stat-card.citas { border-left-color: #17a2b8; }
        .stat-card.especialidades { border-left-color: #6f42c1; }
        .stat-card.pendientes { border-left-color: #ffc107; }
        .stat-card.completadas { border-left-color: #28a745; }
        .stat-card.canceladas { border-left-color: #dc3545; }
        
        .quick-actions .btn {
            margin: 5px;
            transition: all 0.3s;
        }
        .quick-actions .btn:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER REFINADO - SIN BOTONES DUPLICADOS -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-tachometer-alt me-2"></i>Panel de Administraci√≥n</h1>
                    <p class="lead mb-0">Sistema Hospital Virtual - Vista General</p>
                </div>
                <div class="col-md-4 text-end">
                    <!-- ELIMINADOS LOS BOTONES DUPLICADOS "USUARIOS" Y "CITAS" -->
                    <span class="badge bg-light text-dark">
                        <i class="fas fa-user-shield me-1"></i>Modo Admin
                    </span>
                </div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS - VERSI√ìN REFINADA (√öNICA) -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body quick-actions text-center">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-bolt text-warning me-2"></i>Acciones R√°pidas
                        </h5>
                        <a th:href="@{/admin/usuarios}" class="btn btn-primary">
                            <i class="fas fa-users me-1"></i>Gestionar Usuarios
                        </a>
                        <a th:href="@{/admin/citas}" class="btn btn-info">
                            <i class="fas fa-calendar-check me-1"></i>Ver Todas las Citas
                        </a>
                        <a th:href="@{/admin/medicos}" class="btn btn-success">
                            <i class="fas fa-user-md me-1"></i>Gestionar M√©dicos
                        </a>
                        <a th:href="@{/admin/pacientes}" class="btn btn-warning">
                            <i class="fas fa-user-injured me-1"></i>Ver Pacientes
                        </a>
                        <a th:href="@{/admin/reportes}" class="btn btn-dark">
                            <i class="fas fa-chart-line me-1"></i>Reportes
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS PRINCIPALES -->
        <h4 class="mb-3">
            <i class="fas fa-chart-bar text-primary me-2"></i>Estad√≠sticas del Sistema
        </h4>
        
        <div class="row mb-4">
            <!-- Total Usuarios -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card users h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-users fa-2x text-primary"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalUsuarios}" class="text-primary">0</h2>
                        <p class="card-text">Total Usuarios</p>
                    </div>
                </div>
            </div>

            <!-- Total M√©dicos -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card medicos h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-user-md fa-2x text-success"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalMedicos}" class="text-success">0</h2>
                        <p class="card-text">M√©dicos Registrados</p>
                    </div>
                </div>
            </div>

            <!-- Total Pacientes -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card pacientes h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-user-injured fa-2x text-warning"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalPacientes}" class="text-warning">0</h2>
                        <p class="card-text">Pacientes Registrados</p>
                    </div>
                </div>
            </div>

            <!-- Total Citas -->
            <div class="col-md-3 mb-3">
                <div class="card stat-card citas h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-calendar-alt fa-2x text-info"></i>
                        </div>
                        <h2 th:text="${estadisticas.totalCitas}" class="text-info">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS DE CITAS -->
        <div class="row mb-4">
            <!-- Citas Pendientes -->
            <div class="col-md-4 mb-3">
                <div class="card stat-card pendientes h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-clock fa-2x text-warning"></i>
                        </div>
                        <h2 th:text="${estadisticas.citasPendientes}" class="text-warning">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>

            <!-- Citas Completadas -->
            <div class="col-md-4 mb-3">
                <div class="card stat-card completadas h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-check-circle fa-2x text-success"></i>
                        </div>
                        <h2 th:text="${estadisticas.citasCompletadas}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>

            <!-- Citas Canceladas -->
            <div class="col-md-4 mb-3">
                <div class="card stat-card canceladas h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="fas fa-times-circle fa-2x text-danger"></i>
                        </div>
                        <h2 th:text="${estadisticas.citasCanceladas}" class="text-danger">0</h2>
                        <p class="card-text">Citas Canceladas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Base de Datos:</strong> Hospital Virtual | 
                    <strong>Usuarios Activos:</strong> <span th:text="${estadisticas.totalUsuarios}"></span> | 
                    <strong>Especialidades:</strong> <span th:text="${estadisticas.totalEspecialidades}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos de animaci√≥n para las tarjetas
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.stat-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\admin\detalles-paciente.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalles del Paciente - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .info-card {
            border-left: 4px solid #007bff;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-user-injured me-2"></i>Detalles del Paciente</h1>
                    <p class="lead mb-0" th:text="${paciente.nombreCompleto}">Nombre del Paciente</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/pacientes}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver a Pacientes
                    </a>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- INFORMACI√ìN PERSONAL -->
            <div class="col-md-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-id-card me-2"></i>Informaci√≥n Personal
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${paciente.persona != null}">
                            <p><strong>Nombre completo:</strong> <span th:text="${paciente.nombreCompleto}"></span></p>
                            <p><strong>DNI:</strong> <code th:text="${paciente.persona.dni}"></code></p>
                            <p><strong>G√©nero:</strong> 
                                <span th:if="${paciente.persona.genero == 'M'}">Masculino</span>
                                <span th:if="${paciente.persona.genero == 'F'}">Femenino</span>
                                <span th:if="${paciente.persona.genero == null}">No especificado</span>
                            </p>
                            <p><strong>Fecha de nacimiento:</strong> 
                                <span th:if="${paciente.persona.fechaNacimiento != null}" 
                                      th:text="${#dates.format(paciente.persona.fechaNacimiento, 'dd/MM/yyyy')}">
                                </span>
                                <span th:if="${paciente.persona.fechaNacimiento == null}">No especificada</span>
                            </p>
                            <p><strong>Email:</strong> 
                                <span th:if="${paciente.persona.email != null}" th:text="${paciente.persona.email}"></span>
                                <span th:if="${paciente.persona.email == null}" class="text-muted">No especificado</span>
                            </p>
                            <p><strong>Tel√©fono:</strong> 
                                <span th:if="${paciente.persona.telefono != null}" th:text="${paciente.persona.telefono}"></span>
                                <span th:if="${paciente.persona.telefono == null}" class="text-muted">No especificado</span>
                            </p>
                        </div>
                        <div th:if="${paciente.persona == null}" class="text-center text-muted">
                            <i class="fas fa-exclamation-triangle fa-2x mb-2"></i>
                            <p>Informaci√≥n personal no disponible</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- INFORMACI√ìN M√âDICA Y CONTACTO -->
            <div class="col-md-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-heartbeat me-2"></i>Informaci√≥n M√©dica y Contacto
                        </h5>
                    </div>
                    <div class="card-body">
                        <p><strong>Seguro m√©dico:</strong>
                            <span th:if="${paciente.seguroMedico != null and !paciente.seguroMedico.isEmpty()}" 
                                  class="badge bg-success ms-2" th:text="${paciente.seguroMedico}">
                            </span>
                            <span th:if="${paciente.seguroMedico == null or paciente.seguroMedico.isEmpty()}" 
                                  class="badge bg-warning text-dark ms-2">
                                Sin seguro m√©dico
                            </span>
                        </p>
                        
                        <div th:if="${paciente.persona != null}">
                            <p><strong>Direcci√≥n:</strong> 
                                <span th:if="${paciente.persona.direccion != null}" th:text="${paciente.persona.direccion}"></span>
                                <span th:if="${paciente.persona.direccion == null}" class="text-muted">No especificada</span>
                            </p>
                            <p><strong>Ubicaci√≥n:</strong>
                                <span th:if="${paciente.persona.distrito != null or paciente.persona.provincia != null}">
                                    <span th:if="${paciente.persona.distrito != null}" th:text="${paciente.persona.distrito}"></span>
                                    <span th:if="${paciente.persona.provincia != null}">, <span th:text="${paciente.persona.provincia}"></span></span>
                                    <span th:if="${paciente.persona.departamento != null}">, <span th:text="${paciente.persona.departamento}"></span></span>
                                </span>
                                <span th:if="${paciente.persona.distrito == null and paciente.persona.provincia == null}" class="text-muted">
                                    No especificada
                                </span>
                            </p>
                        </div>
                        
                        <div class="mt-4">
                            <h6>Acciones R√°pidas:</h6>
                            <div class="btn-group">
                                <button class="btn btn-outline-primary btn-sm" onclick="verHistorialPaciente()">
                                    <i class="fas fa-file-medical me-1"></i>Historial
                                </button>
                                <button class="btn btn-outline-info btn-sm" onclick="verCitasPaciente()">
                                    <i class="fas fa-calendar-alt me-1"></i>Citas
                                </button>
                                <button class="btn btn-outline-warning btn-sm" onclick="editarPaciente()">
                                    <i class="fas fa-edit me-1"></i>Editar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Paciente ID:</strong> <span th:text="${paciente.id}"></span> |
                    <strong>Fecha registro:</strong> 
                    <span th:if="${paciente.persona != null and paciente.persona.fechaRegistro != null}" 
                          th:text="${#dates.format(paciente.persona.fechaRegistro, 'dd/MM/yyyy HH:mm')}">
                    </span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script>
        function verHistorialPaciente() {
            alert('Funcionalidad de historial m√©dico en desarrollo');
        }

        function verCitasPaciente() {
            alert('Funcionalidad de citas del paciente en desarrollo');
        }

        function editarPaciente() {
            alert('Funcionalidad de edici√≥n de paciente en desarrollo');
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\admin\medicos.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de M√©dicos - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .badge-especialidad {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .table-hover tbody tr:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-user-md me-2"></i>Gesti√≥n de M√©dicos</h1>
                    <p class="lead mb-0">Administraci√≥n de profesionales m√©dicos - Hospital Virtual</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalMedicos}" class="text-primary">0</h2>
                        <p class="card-text">Total M√©dicos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${especialidades != null ? especialidades.size() : 0}" class="text-success">0</h2>
                        <p class="card-text">Especialidades</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <div class="btn-group">
                            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#filtroModal">
                                <i class="fas fa-filter me-1"></i>Filtrar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FILTROS -->
        <div class="card mb-4">
            <div class="card-body">
                <form th:action="@{/admin/medicos/buscar}" method="get">
                    <div class="row">
                        <div class="col-md-8">
                            <label for="especialidadId" class="form-label">Filtrar por Especialidad:</label>
                            <select name="especialidadId" id="especialidadId" class="form-select">
                                <option value="">Todas las especialidades</option>
                                <option th:each="especialidad : ${especialidades}" 
                                        th:value="${especialidad.id}"
                                        th:text="${especialidad.nombre}"
                                        th:selected="${especialidadSeleccionada == especialidad.id}">
                                </option>
                            </select>
                        </div>
                        <div class="col-md-4 d-flex align-items-end">
                            <button type="submit" class="btn btn-primary me-2">
                                <i class="fas fa-search me-1"></i>Buscar
                            </button>
                            <a th:href="@{/admin/medicos}" class="btn btn-outline-secondary">
                                <i class="fas fa-sync me-1"></i>Limpiar
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- LISTA DE M√âDICOS -->
        <div class="card">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de M√©dicos del Sistema
                </h5>
                <span class="badge bg-light text-dark" th:text="'Total: ' + ${totalMedicos}">Total: 0</span>
            </div>
            <div class="card-body">
                <!-- Mensaje si no hay m√©dicos -->
                <div th:if="${medicos == null or medicos.empty}" class="text-center py-5">
                    <i class="fas fa-user-md fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay m√©dicos registrados</h4>
                    <p class="text-muted">No se encontraron m√©dicos en el sistema.</p>
                </div>

                <!-- Tabla de m√©dicos -->
                <div th:if="${medicos != null and not medicos.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>M√©dico</th>
                                    <th>DNI</th>
                                    <th>Email</th>
                                    <th>Especialidad</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="medico : ${medicos}">
                                    <td th:text="${medico.id}">#</td>
                                    <td>
                                        <strong th:text="${medico.nombreCompleto}">Nombre M√©dico</strong>
                                        <br>
                                        <small class="text-muted" th:text="${medico.persona != null ? medico.persona.telefono : 'N/A'}">Tel√©fono</small>
                                    </td>
                                    <td th:text="${medico.persona != null ? medico.persona.dni : 'N/A'}">DNI</td>
                                    <td th:text="${medico.persona != null ? medico.persona.email : 'N/A'}">email@ejemplo.com</td>
                                    <td>
                                        <span th:if="${medico.especialidad != null}" 
                                              class="badge bg-info badge-especialidad" 
                                              th:text="${medico.especialidad.nombre}">
                                            Especialidad
                                        </span>
                                        <span th:if="${medico.especialidad == null}" class="text-muted">
                                            Sin especialidad
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button class="btn btn-outline-primary" 
                                                    th:title="'Editar ' + ${medico.nombreCompleto}">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-outline-info" 
                                                    th:title="'Ver detalles de ' + ${medico.nombreCompleto}">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-outline-warning" 
                                                    th:title="'Ver agenda de ' + ${medico.nombreCompleto}">
                                                <i class="fas fa-calendar-alt"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Vista:</strong> Administrador | 
                    <strong>M√©dicos cargados:</strong> <span th:text="${totalMedicos}"></span> |
                    <strong>Especialidades disponibles:</strong> <span th:text="${especialidades != null ? especialidades.size() : 0}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos de animaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.stat-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // Simular acciones de botones
        function simularAccion(accion, medicoId, nombreMedico) {
            alert(`Acci√≥n: ${accion}\nM√©dico: ${nombreMedico}\nID: ${medicoId}\n\nEsta funcionalidad est√° en desarrollo.`);
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\admin\pacientes.html 
================================= 
<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Pacientes - Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .patient-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            margin-bottom: 20px;
        }
        .patient-card:hover {
            transform: translateY(-5px);
        }
        .patient-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px 15px 0 0;
            padding: 20px;
        }
        .stats-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .btn-details {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 8px 20px;
        }
        .btn-details:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            color: white;
        }
        .patient-info {
            padding: 20px;
        }
        .insurance-badge {
            background: #28a745;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
        }
        .no-insurance-badge {
            background: #6c757d;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-hospital-alt me-2"></i>
                Hospital Virtual - Admin
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col">
                <h1 class="display-5 fw-bold text-primary">
                    <i class="fas fa-users me-2"></i>Gesti√≥n de Pacientes
                </h1>
                <p class="text-muted">Administra la informaci√≥n de los pacientes del sistema</p>
            </div>
        </div>

        <!-- Estad√≠sticas -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-primary" th:text="${totalPacientes}">0</h3>
                    <p class="text-muted mb-0">Total Pacientes</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-success" th:text="${pacientesConSeguro}">0</h3>
                    <p class="text-muted mb-0">Con Seguro</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-warning" th:text="${pacientesSinSeguro}">0</h3>
                    <p class="text-muted mb-0">Sin Seguro</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card text-center">
                    <h3 class="text-info" th:text="${#dates.createNow()}">Fecha</h3>
                    <p class="text-muted mb-0">Hoy</p>
                </div>
            </div>
        </div>

        <!-- Lista de Pacientes -->
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-list me-2"></i>Lista de Pacientes
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Mensaje de error -->
                        <div th:if="${error}" class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <span th:text="${error}"></span>
                        </div>

                        <!-- Grid de pacientes -->
                        <div class="row" th:if="${pacientes != null and !pacientes.empty}">
                            <div class="col-md-6 col-lg-4" th:each="paciente : ${pacientes}">
                                <div class="card patient-card">
                                    <div class="patient-header text-center">
                                        <i class="fas fa-user-injured fa-3x mb-3"></i>
                                        <h5 class="card-title mb-1" th:text="${paciente.nombreCompleto}">Nombre Paciente</h5>
                                        <p class="mb-0" th:text="${paciente.dni}">DNI</p>
                                    </div>
                                    <div class="patient-info">
                                        <div class="mb-3">
                                            <small class="text-muted">Seguro M√©dico:</small>
                                            <div>
                                                <span th:if="${paciente.seguroMedico != null and !paciente.seguroMedico.isEmpty()}" 
                                                      class="insurance-badge">
                                                    <i class="fas fa-shield-alt me-1"></i>
                                                    <span th:text="${paciente.seguroMedico}">Seguro</span>
                                                </span>
                                                <span th:unless="${paciente.seguroMedico != null and !paciente.seguroMedico.isEmpty()}" 
                                                      class="no-insurance-badge">
                                                    <i class="fas fa-times me-1"></i>
                                                    Sin Seguro
                                                </span>
                                            </div>
                                        </div>
                                        <div class="d-grid">
                                            <a th:href="@{/admin/pacientes/detalles/} + ${paciente.id}" 
                                               class="btn btn-details">
                                                <i class="fas fa-eye me-1"></i>Ver Detalles
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Mensaje si no hay pacientes -->
                        <div th:if="${pacientes == null or pacientes.empty}" class="text-center py-5">
                            <i class="fas fa-users fa-4x text-muted mb-3"></i>
                            <h4 class="text-muted">No hay pacientes registrados</h4>
                            <p class="text-muted">Los pacientes aparecer√°n aqu√≠ cuando se registren en el sistema.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white mt-5 py-4">
        <div class="container text-center">
            <p class="mb-0">&copy; 2024 Hospital Virtual. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\admin\reportes.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Reportes del Sistema - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .report-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }
        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .progress {
            height: 25px;
            margin-bottom: 10px;
        }
        .progress-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .stats-badge {
            font-size: 0.9em;
            padding: 0.5em 1em;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-chart-line me-2"></i>Reportes del Sistema</h1>
                    <p class="lead mb-0">Estad√≠sticas detalladas y an√°lisis - Hospital Virtual</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                </div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body text-center">
                        <h5 class="card-title mb-3">
                            <i class="fas fa-download text-primary me-2"></i>Exportar Reportes
                        </h5>
                        <button class="btn btn-outline-primary">
                            <i class="fas fa-file-pdf me-1"></i>PDF
                        </button>
                        <button class="btn btn-outline-success">
                            <i class="fas fa-file-excel me-1"></i>Excel
                        </button>
                        <button class="btn btn-outline-info" onclick="window.print()">
                            <i class="fas fa-print me-1"></i>Imprimir
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- RESUMEN ESTAD√çSTICO -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-calendar-check fa-2x text-primary"></i>
                        </div>
                        <h2 th:text="${reportes.citasPendientes}" class="text-primary">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-check-circle fa-2x text-success"></i>
                        </div>
                        <h2 th:text="${reportes.citasCompletadas}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-times-circle fa-2x text-danger"></i>
                        </div>
                        <h2 th:text="${reportes.citasCanceladas}" class="text-danger">0</h2>
                        <p class="card-text">Citas Canceladas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card report-card text-center">
                    <div class="card-body">
                        <div class="mb-3">
                            <i class="fas fa-chart-bar fa-2x text-info"></i>
                        </div>
                        <h2 th:text="${reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas}" class="text-info">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- REPORTES DETALLADOS -->
        <div class="row">
            <!-- USUARIOS POR ROL -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-users me-2"></i>Usuarios por Rol
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${reportes.usuariosPorRol != null and not reportes.usuariosPorRol.empty}">
                            <div th:each="entry : ${reportes.usuariosPorRol}">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span th:text="${entry.key}">Rol</span>
                                    <span class="badge bg-primary stats-badge" th:text="${entry.value}">0</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar bg-primary" 
                                         role="progressbar" 
                                         th:style="'width: ' + ${entry.value * 100 / #maps.size(reportes.usuariosPorRol)} + '%'">
                                        <span th:text="${entry.value}">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${reportes.usuariosPorRol == null or reportes.usuariosPorRol.empty}" class="text-center text-muted">
                            <i class="fas fa-chart-pie fa-2x mb-2"></i>
                            <p>No hay datos de usuarios por rol</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CITAS POR M√âDICO -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-user-md me-2"></i>Citas por M√©dico
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${reportes.citasPorMedico != null and not reportes.citasPorMedico.empty}">
                            <div th:each="entry : ${reportes.citasPorMedico}">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span th:text="${entry.key}">M√©dico</span>
                                    <span class="badge bg-success stats-badge" th:text="${entry.value}">0</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar bg-success" 
                                         role="progressbar" 
                                         th:style="'width: ' + ${entry.value * 100 / #maps.size(reportes.citasPorMedico)} + '%'">
                                        <span th:text="${entry.value}">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${reportes.citasPorMedico == null or reportes.citasPorMedico.empty}" class="text-center text-muted">
                            <i class="fas fa-stethoscope fa-2x mb-2"></i>
                            <p>No hay datos de citas por m√©dico</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CITAS POR ESPECIALIDAD -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-info text-white">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-heartbeat me-2"></i>Citas por Especialidad
                        </h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${reportes.citasPorEspecialidad != null and not reportes.citasPorEspecialidad.empty}">
                            <div th:each="entry : ${reportes.citasPorEspecialidad}">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span th:text="${entry.key}">Especialidad</span>
                                    <span class="badge bg-info stats-badge" th:text="${entry.value}">0</span>
                                </div>
                                <div class="progress">
                                    <div class="progress-bar bg-info" 
                                         role="progressbar" 
                                         th:style="'width: ' + ${entry.value * 100 / #maps.size(reportes.citasPorEspecialidad)} + '%'">
                                        <span th:text="${entry.value}">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${reportes.citasPorEspecialidad == null or reportes.citasPorEspecialidad.empty}" class="text-center text-muted">
                            <i class="fas fa-clipboard-list fa-2x mb-2"></i>
                            <p>No hay datos de citas por especialidad</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DISTRIBUCI√ìN DE CITAS -->
            <div class="col-md-6 mb-4">
                <div class="card report-card h-100">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-chart-pie me-2"></i>Distribuci√≥n de Citas
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="text-center">
                            <div class="mb-3">
                                <span class="badge bg-warning text-dark stats-badge me-2">
                                    Pendientes: <span th:text="${reportes.citasPendientes}">0</span>
                                </span>
                                <span class="badge bg-success stats-badge me-2">
                                    Completadas: <span th:text="${reportes.citasCompletadas}">0</span>
                                </span>
                                <span class="badge bg-danger stats-badge">
                                    Canceladas: <span th:text="${reportes.citasCanceladas}">0</span>
                                </span>
                            </div>
                            
                            <!-- Gr√°fico simple de porcentajes -->
                            <div class="progress mb-2" style="height: 30px;">
                                <div class="progress-bar bg-warning" 
                                     th:style="'width: ' + ${reportes.citasPendientes * 100 / (reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas)} + '%'"
                                     th:title="'Pendientes: ' + ${reportes.citasPendientes}">
                                    <span th:if="${reportes.citasPendientes > 0}" th:text="${reportes.citasPendientes}">0</span>
                                </div>
                                <div class="progress-bar bg-success" 
                                     th:style="'width: ' + ${reportes.citasCompletadas * 100 / (reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas)} + '%'"
                                     th:title="'Completadas: ' + ${reportes.citasCompletadas}">
                                    <span th:if="${reportes.citasCompletadas > 0}" th:text="${reportes.citasCompletadas}">0</span>
                                </div>
                                <div class="progress-bar bg-danger" 
                                     th:style="'width: ' + ${reportes.citasCanceladas * 100 / (reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas)} + '%'"
                                     th:title="'Canceladas: ' + ${reportes.citasCanceladas}">
                                    <span th:if="${reportes.citasCanceladas > 0}" th:text="${reportes.citasCanceladas}">0</span>
                                </div>
                            </div>
                            
                            <small class="text-muted">Distribuci√≥n porcentual de todas las citas del sistema</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n de Reportes</h6>
                <p class="mb-0 small text-muted">
                    <strong>Generado:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span> |
                    <strong>Base de datos:</strong> Hospital Virtual |
                    <strong>Total registros analizados:</strong> <span th:text="${reportes.citasPendientes + reportes.citasCompletadas + reportes.citasCanceladas}"></span> citas
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos de animaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.report-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\admin\usuarios.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gesti√≥n de Usuarios - Administrador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .badge-estado {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .table-hover tbody tr:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }
        .btn-group-sm .btn {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-users me-2"></i>Gesti√≥n de Usuarios</h1>
                    <p class="lead mb-0">Administraci√≥n completa del sistema - Todos los usuarios</p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/admin/dashboard}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Dashboard
                    </a>
                    <a th:href="@{/admin/citas}" class="btn btn-light">
                        <i class="fas fa-calendar-alt me-1"></i>Citas
                    </a>
                </div>
            </div>
        </div>

        <!-- ESTAD√çSTICAS DE USUARIOS -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalUsuarios}" class="text-primary">0</h2>
                        <p class="card-text">Total Usuarios</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${usuariosActivos}" class="text-success">0</h2>
                        <p class="card-text">Usuarios Activos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${usuariosInactivos}" class="text-danger">0</h2>
                        <p class="card-text">Usuarios Inactivos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <a th:href="@{/admin/usuarios/nuevo}" class="btn btn-primary btn-lg">
                            <i class="fas fa-plus me-1"></i>Nuevo Usuario
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- BARRA DE B√öSQUEDA Y FILTROS -->
        <div class="card mb-4">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Buscar usuario..." id="buscarUsuario">
                            <button class="btn btn-outline-primary" type="button" id="btnBuscar">
                                <i class="fas fa-search"></i> Buscar
                            </button>
                        </div>
                    </div>
                    <div class="col-md-6 text-end">
                        <div class="btn-group">
                            <button class="btn btn-outline-secondary" id="btnFiltrarActivos">
                                <i class="fas fa-check-circle"></i> Activos
                            </button>
                            <button class="btn btn-outline-secondary" id="btnFiltrarInactivos">
                                <i class="fas fa-times-circle"></i> Inactivos
                            </button>
                            <button class="btn btn-outline-secondary" id="btnMostrarTodos">
                                <i class="fas fa-users"></i> Todos
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- LISTA DE USUARIOS -->
        <div class="card">
            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de Usuarios del Sistema
                </h5>
                <span class="badge bg-light text-dark" th:text="'Total: ' + ${totalUsuarios}">Total: 0</span>
            </div>
            <div class="card-body">
                <!-- Mensaje de √©xito -->
                <div th:if="${param.exito}" class="alert alert-success alert-dismissible fade show" role="alert">
                    <i class="fas fa-check-circle me-2"></i>Usuario guardado exitosamente
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>

                <!-- Mensaje si no hay usuarios -->
                <div th:if="${usuarios == null or usuarios.empty}" class="text-center py-5">
                    <i class="fas fa-users-slash fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay usuarios registrados</h4>
                    <p class="text-muted">No se encontraron usuarios en el sistema.</p>
                    <a th:href="@{/admin/usuarios/nuevo}" class="btn btn-primary">
                        <i class="fas fa-plus me-1"></i>Crear Primer Usuario
                    </a>
                </div>

                <!-- Tabla de usuarios -->
                <div th:if="${usuarios != null and not usuarios.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover table-striped" id="tablaUsuarios">
                            <thead class="table-dark">
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Roles</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="usuario : ${usuarios}">
                                    <td th:text="${usuario.id}">#</td>
                                    <td>
                                        <strong th:text="${usuario.username}">username</strong>
                                    </td>
                                    <td th:text="${usuario.email}">email@ejemplo.com</td>
                                    <td>
                                        <span th:if="${usuario.roles != null and not usuario.roles.empty}">
                                            <span th:each="rol, stat : ${usuario.roles}">
                                                <span class="badge bg-info badge-estado" th:text="${rol.nombre}">Rol</span>
                                                <span th:if="${not stat.last}">, </span>
                                            </span>
                                        </span>
                                        <span th:if="${usuario.roles == null or usuario.roles.empty}" class="text-muted">
                                            Sin roles
                                        </span>
                                    </td>
                                    <td>
                                        <span th:if="${usuario.estado == 1}" class="badge bg-success badge-estado">
                                            <i class="fas fa-check me-1"></i>Activo
                                        </span>
                                        <span th:if="${usuario.estado == 0}" class="badge bg-danger badge-estado">
                                            <i class="fas fa-times me-1"></i>Inactivo
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <a th:href="@{/admin/usuarios/editar/} + ${usuario.id}" 
                                               class="btn btn-outline-primary" 
                                               th:title="'Editar usuario ' + ${usuario.username}">
                                                <i class="fas fa-edit"></i>
                                            </a>
                                            <a th:href="@{/admin/usuarios/estado/} + ${usuario.id}" 
                                               class="btn" 
                                               th:classappend="${usuario.estado == 1} ? 'btn-outline-warning' : 'btn-outline-success'"
                                               th:title="${usuario.estado == 1} ? 'Desactivar usuario' : 'Activar usuario'">
                                                <i th:classappend="${usuario.estado == 1} ? 'fas fa-toggle-off' : 'fas fa-toggle-on'"></i>
                                            </a>
                                            <button class="btn btn-outline-info" 
                                                    th:onclick="'verDetalles(' + ${usuario.id} + ')'"
                                                    th:title="'Ver detalles de ' + ${usuario.username}">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- INFORMACI√ìN DEL SISTEMA -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Vista:</strong> Administrador | 
                    <strong>Usuarios cargados:</strong> <span th:text="${totalUsuarios}"></span> |
                    <strong>Activos/Inactivos:</strong> <span th:text="${usuariosActivos}"></span>/<span th:text="${usuariosInactivos}"></span> |
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Funcionalidad de b√∫squeda y filtros
        document.addEventListener('DOMContentLoaded', function() {
            const buscarUsuario = document.getElementById('buscarUsuario');
            const btnBuscar = document.getElementById('btnBuscar');
            const btnFiltrarActivos = document.getElementById('btnFiltrarActivos');
            const btnFiltrarInactivos = document.getElementById('btnFiltrarInactivos');
            const btnMostrarTodos = document.getElementById('btnMostrarTodos');
            const tablaUsuarios = document.getElementById('tablaUsuarios');

            // Funci√≥n para aplicar filtros
            function aplicarFiltros(filtro = 'TODOS', busqueda = '') {
                const filas = tablaUsuarios.querySelectorAll('tbody tr');
                let usuariosVisibles = 0;

                filas.forEach(fila => {
                    const username = fila.querySelector('td:nth-child(2) strong').textContent.toLowerCase();
                    const email = fila.querySelector('td:nth-child(3)').textContent.toLowerCase();
                    const estado = fila.querySelector('td:nth-child(5) .badge').textContent.toLowerCase();
                    
                    let mostrar = true;

                    // Filtro por estado
                    if (filtro === 'ACTIVOS' && !estado.includes('activo')) {
                        mostrar = false;
                    } else if (filtro === 'INACTIVOS' && !estado.includes('inactivo')) {
                        mostrar = false;
                    }

                    // B√∫squeda por texto
                    if (busqueda && !username.includes(busqueda) && !email.includes(busqueda)) {
                        mostrar = false;
                    }

                    fila.style.display = mostrar ? '' : 'none';
                    if (mostrar) usuariosVisibles++;
                });

                // Actualizar contador
                const badge = document.querySelector('.card-header .badge');
                if (badge) {
                    badge.textContent = `Mostrando: ${usuariosVisibles} de ${filas.length}`;
                }
            }

            // Event listeners
            btnBuscar.addEventListener('click', () => {
                aplicarFiltros('TODOS', buscarUsuario.value.toLowerCase());
            });

            buscarUsuario.addEventListener('input', () => {
                aplicarFiltros('TODOS', buscarUsuario.value.toLowerCase());
            });

            btnFiltrarActivos.addEventListener('click', () => {
                aplicarFiltros('ACTIVOS', buscarUsuario.value.toLowerCase());
            });

            btnFiltrarInactivos.addEventListener('click', () => {
                aplicarFiltros('INACTIVOS', buscarUsuario.value.toLowerCase());
            });

            btnMostrarTodos.addEventListener('click', () => {
                buscarUsuario.value = '';
                aplicarFiltros('TODOS', '');
            });

            // Aplicar filtros iniciales
            aplicarFiltros();
        });

        // Funci√≥n para ver detalles (simulada)
        function verDetalles(usuarioId) {
            alert(`Detalles del Usuario ID: ${usuarioId}\n\nEsta funcionalidad est√° en desarrollo.`);
        }

        // Auto-cerrar alertas despu√©s de 5 segundos
        setTimeout(() => {
            const alertas = document.querySelectorAll('.alert');
            alertas.forEach(alerta => {
                const bsAlert = new bootstrap.Alert(alerta);
                bsAlert.close();
            });
        }, 5000);
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\citas\agenda.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Agenda</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìÖ Mi Agenda M√©dica</h1>
            <a th:href="@{/medico/perfil}" class="btn btn-secondary">‚Üê Volver al Perfil</a>
        </div>

        <!-- Mensajes -->
        <div th:if="${param.completada}" class="alert alert-success">
            ‚úÖ Cita marcada como completada
        </div>

        <!-- Lista de Citas -->
        <div th:if="${citas != null and !citas.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Citas Programadas</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="cita : ${citas}" class="list-group-item">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 th:text="${cita.nombrePaciente}">Paciente</h6>
                                    <p class="mb-1">
                                        <strong>Fecha:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy')}">Fecha</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Hora:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'HH:mm')}">Hora</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${cita.motivo}">Motivo</span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Estado:</strong> 
                                        <span th:if="${cita.estado.name() == 'Programada'}" class="badge bg-warning">Programada</span>
                                        <span th:if="${cita.estado.name() == 'Completada'}" class="badge bg-success">Completada</span>
                                        <span th:if="${cita.estado.name() == 'Cancelada'}" class="badge bg-danger">Cancelada</span>
                                    </p>
                                </div>
                                <div th:if="${cita.estado.name() == 'Programada'}">
                                    <a th:href="@{/citas/completar/{id}(id=${cita.id})}" 
                                       class="btn btn-sm btn-success"
                                       onclick="return confirm('¬øMarcar esta cita como completada?')">
                                        ‚úÖ Completar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin citas -->
        <div th:if="${citas == null or citas.empty}" class="text-center py-5">
            <h4 class="text-muted">No tienes citas programadas</h4>
            <p class="text-muted">No hay citas agendadas para hoy</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\citas\form-nueva.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nueva Cita</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <h4 class="card-title mb-0">‚ûï Programar Nueva Cita</h4>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/citas/guardar}" method="post">
                            <!-- Paciente -->
                            <div class="mb-3">
                                <label class="form-label">Paciente:</label>
                                <select name="pacienteId" class="form-select" required>
                                    <option value="">Seleccionar paciente...</option>
                                    <option th:each="paciente : ${pacientes}" 
                                            th:value="${paciente.id}"
                                            th:text="${paciente.nombreCompleto}">
                                    </option>
                                </select>
                            </div>

                            <!-- M√©dico -->
                            <div class="mb-3">
                                <label class="form-label">M√©dico:</label>
                                <select name="medicoId" class="form-select" required>
                                    <option value="">Seleccionar m√©dico...</option>
                                    <option th:each="medico : ${medicos}" 
                                            th:value="${medico.id}"
                                            th:text="${medico.nombreCompleto + ' - ' + medico.especialidadNombre}">
                                    </option>
                                </select>
                            </div>

                            <!-- Fecha y Hora -->
                            <div class="mb-3">
                                <label class="form-label">Fecha y Hora:</label>
                                <input type="datetime-local" name="fechaHora" class="form-control" required>
                                <div class="form-text">Selecciona la fecha y hora para tu cita</div>
                            </div>

                            <!-- Motivo -->
                            <div class="mb-3">
                                <label class="form-label">Motivo de la consulta:</label>
                                <textarea name="motivo" class="form-control" rows="3" 
                                          placeholder="Describe brevemente el motivo de tu consulta..." required></textarea>
                            </div>

                            <!-- Botones -->
                            <div class="d-flex gap-2">
                                <button type="submit" class="btn btn-primary">üíæ Programar Cita</button>
                                <a th:href="@{/citas/mis-citas}" class="btn btn-secondary">‚Üê Cancelar</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\citas\lista.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Todas las Citas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìÖ Todas las Citas</h1>
            <a th:href="@{/admin}" class="btn btn-secondary">‚Üê Volver al Admin</a>
        </div>

        <!-- Lista de Citas -->
        <div th:if="${citas != null and !citas.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Todas las Citas del Sistema</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="cita : ${citas}" class="list-group-item">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6 th:text="${cita.nombrePaciente + ' con ' + cita.nombreMedico}">Paciente con M√©dico</h6>
                                    <p class="mb-1">
                                        <strong>Fecha:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy')}">Fecha</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Hora:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'HH:mm')}">Hora</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${cita.motivo}">Motivo</span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Estado:</strong> 
                                        <span th:if="${cita.estado.name() == 'Programada'}" class="badge bg-warning">Programada</span>
                                        <span th:if="${cita.estado.name() == 'Completada'}" class="badge bg-success">Completada</span>
                                        <span th:if="${cita.estado.name() == 'Cancelada'}" class="badge bg-danger">Cancelada</span>
                                    </p>
                                </div>
                                <div class="col-md-4 text-end">
                                    <small class="text-muted">
                                        Registro: <span th:text="${#dates.format(cita.fechaRegistro, 'dd/MM/yyyy')}"></span>
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin citas -->
        <div th:if="${citas == null or citas.empty}" class="text-center py-5">
            <h4 class="text-muted">No hay citas en el sistema</h4>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\citas\mis-citas.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Citas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìÖ Mis Citas M√©dicas</h1>
            <div>
                <a th:href="@{/citas/nueva}" class="btn btn-primary">‚ûï Nueva Cita</a>
                <a th:href="@{/paciente/perfil}" class="btn btn-secondary">‚Üê Volver al Perfil</a>
            </div>
        </div>

        <!-- Mensajes -->
        <div th:if="${param.exito}" class="alert alert-success">
            ‚úÖ Cita programada exitosamente
        </div>
        <div th:if="${param.cancelada}" class="alert alert-info">
            üìù Cita cancelada
        </div>

        <!-- Lista de Citas -->
        <div th:if="${citas != null and !citas.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Mis Citas Programadas</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="cita : ${citas}" class="list-group-item">
                            <div class="d-flex justify-content-between align-items-start">
                                <div>
                                    <h6 th:text="${cita.nombreMedico}">M√©dico</h6>
                                    <p class="mb-1">
                                        <strong>Especialidad:</strong> 
                                        <span th:text="${cita.especialidadMedico}">Especialidad</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Fecha:</strong> 
                                        <!-- CORREGIDO: Formato simplificado -->
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy')}">Fecha</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Hora:</strong> 
                                        <span th:text="${#dates.format(cita.fechaHora, 'HH:mm')}">Hora</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${cita.motivo}">Motivo</span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Estado:</strong> 
                                        <span th:if="${cita.estado.name() == 'Programada'}" class="badge bg-warning">Programada</span>
                                        <span th:if="${cita.estado.name() == 'Completada'}" class="badge bg-success">Completada</span>
                                        <span th:if="${cita.estado.name() == 'Cancelada'}" class="badge bg-danger">Cancelada</span>
                                    </p>
                                </div>
                                <div th:if="${cita.estado.name() == 'Programada'}">
                                    <a th:href="@{/citas/cancelar/{id}(id=${cita.id})}" 
                                       class="btn btn-sm btn-outline-danger"
                                       onclick="return confirm('¬øEst√°s seguro de cancelar esta cita?')">
                                        ‚ùå Cancelar
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin citas -->
        <div th:if="${citas == null or citas.empty}" class="text-center py-5">
            <h4 class="text-muted">No tienes citas programadas</h4>
            <p class="text-muted">Programa tu primera cita m√©dica</p>
            <a th:href="@{/citas/nueva}" class="btn btn-primary">‚ûï Programar Mi Primera Cita</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\historial\mi-historial.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Historial M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üìã Mi Historial M√©dico</h1>
            <a th:href="@{/paciente/perfil}" class="btn btn-secondary">‚Üê Volver al Perfil</a>
        </div>

        <!-- Informaci√≥n del Paciente -->
        <div th:if="${paciente != null}" class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">Informaci√≥n del Paciente</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Nombre:</strong> <span th:text="${paciente.nombreCompleto}"></span></p>
                        <p><strong>DNI:</strong> <span th:text="${paciente.dni}"></span></p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Seguro M√©dico:</strong> <span th:text="${paciente.seguroMedico}"></span></p>
                        <p><strong>Total de registros:</strong> <span th:text="${historial != null ? historial.size() : 0}"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Historial M√©dico -->
        <div th:if="${historial != null and !historial.empty}">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Registros M√©dicos</h5>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="registro : ${historial}" class="list-group-item">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6 th:text="${registro.nombreMedico}">M√©dico</h6>
                                    <p class="mb-1">
                                        <strong>Especialidad:</strong> 
                                        <span th:text="${registro.especialidadMedico}">Especialidad</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Fecha de consulta:</strong> 
                                        <span th:if="${registro.fechaCita != null}" 
                                              th:text="${#dates.format(registro.fechaCita, 'dd/MM/yyyy')}">Fecha</span>
                                        <span th:if="${registro.fechaCita == null}">No especificada</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Motivo:</strong> 
                                        <span th:text="${registro.motivoCita}">Motivo</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Notas m√©dicas:</strong> 
                                        <span th:text="${registro.notas}">Notas</span>
                                    </p>
                                    <p class="mb-0" th:if="${registro.archivosAdjuntos != null}">
                                        <strong>Archivos:</strong> 
                                        <span th:text="${registro.archivosAdjuntos}">Archivos</span>
                                    </p>
                                </div>
                                <div class="col-md-4 text-end">
                                    <small class="text-muted">
                                        Registrado: <span th:text="${#dates.format(registro.fechaRegistro, 'dd/MM/yyyy')}"></span>
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin historial -->
        <div th:if="${historial == null or historial.empty}" class="text-center py-5">
            <h4 class="text-muted">No hay registros m√©dicos</h4>
            <p class="text-muted">Tu historial m√©dico aparecer√° aqu√≠ despu√©s de tus consultas</p>
            <a th:href="@{/citas/nueva}" class="btn btn-primary">üìÖ Programar Mi Primera Consulta</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\medico\agenda.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Agenda - M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .agenda-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .badge-estado {
            font-size: 0.8em;
            padding: 0.4em 0.8em;
        }
        .filtros-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .cita-completada {
            background-color: #d4edda !important;
        }
        .cita-cancelada {
            background-color: #f8d7da !important;
        }
        .cita-pendiente {
            background-color: #fff3cd !important;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="agenda-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1><i class="fas fa-calendar-alt me-2"></i>Mi Agenda</h1>
                    <p class="lead mb-0">Gesti√≥n de citas y consultas programadas</p>
                    <p class="mb-0" th:if="${medico != null}">
                        Dr. <span th:text="${medico.nombreCompleto}"></span> - 
                        <span class="badge bg-light text-dark" th:text="${medico.especialidadNombre}"></span>
                    </p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/medico/perfil}" class="btn btn-light">
                        <i class="fas fa-arrow-left me-1"></i>Volver al Perfil
                    </a>
                </div>
            </div>
        </div>

        <!-- Estad√≠sticas R√°pidas -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citas != null ? citas.size() : 0}" class="text-primary">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citasPendientes != null ? citasPendientes : 0}" class="text-warning">0</h2>
                        <p class="card-text">Citas Pendientes</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citasCompletadas != null ? citasCompletadas : 0}" class="text-success">0</h2>
                        <p class="card-text">Citas Completadas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${citasCanceladas != null ? citasCanceladas : 0}" class="text-danger">0</h2>
                        <p class="card-text">Citas Canceladas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filtros y B√∫squeda -->
        <div class="filtros-container">
            <div class="row align-items-center">
                <div class="col-md-4">
                    <label for="filtroEstado" class="form-label">Filtrar por Estado:</label>
                    <select class="form-select" id="filtroEstado">
                        <option value="TODAS">Todas las citas</option>
                        <option value="PENDIENTE">Pendientes</option>
                        <option value="PROGRAMADA">Programadas</option>
                        <option value="COMPLETADA">Completadas</option>
                        <option value="ATENDIDA">Atendidas</option>
                        <option value="CANCELADA">Canceladas</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="filtroFecha" class="form-label">Filtrar por Fecha:</label>
                    <input type="date" class="form-control" id="filtroFecha">
                </div>
                <div class="col-md-4">
                    <label for="buscarPaciente" class="form-label">Buscar Paciente:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="buscarPaciente" placeholder="Nombre del paciente...">
                        <button class="btn btn-primary" type="button" id="btnBuscar">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Citas -->
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">
                    <i class="fas fa-list me-2"></i>Lista de Citas
                </h5>
            </div>
            <div class="card-body">
                <!-- Mensaje si no hay citas -->
                <div th:if="${citas == null or citas.empty}" class="text-center py-5">
                    <i class="fas fa-calendar-times fa-3x text-muted mb-3"></i>
                    <h4 class="text-muted">No hay citas programadas</h4>
                    <p class="text-muted">No se encontraron citas en tu agenda.</p>
                </div>

                <!-- Lista de citas -->
                <div th:if="${citas != null and not citas.empty}">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Fecha y Hora</th>
                                    <th>Paciente</th>
                                    <th>Motivo</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="cita : ${citas}" th:id="'cita-' + ${citaStat.index}">
                                    <td>
                                        <span th:text="${#dates.format(cita.fechaHora, 'dd/MM/yyyy HH:mm')}">Fecha</span>
                                    </td>
                                    <td>
                                        <strong th:text="${cita.paciente != null ? cita.paciente.nombreCompleto : 'N/A'}">Paciente</strong>
                                        <br>
                                        <small class="text-muted" th:if="${cita.paciente != null and cita.paciente.persona != null}" 
                                               th:text="${cita.paciente.persona.dni}">DNI</small>
                                    </td>
                                    <td th:text="${cita.motivo != null ? cita.motivo : 'Consulta m√©dica'}">Motivo</td>
                                    <td>
                                        <span th:switch="${cita.estado.name()}">
                                            <span th:case="'PENDIENTE'" class="badge bg-warning badge-estado">Pendiente</span>
                                            <span th:case="'PROGRAMADA'" class="badge bg-info badge-estado">Programada</span>
                                            <span th:case="'COMPLETADA'" class="badge bg-success badge-estado">Completada</span>
                                            <span th:case="'ATENDIDA'" class="badge bg-success badge-estado">Atendida</span>
                                            <span th:case="'CANCELADA'" class="badge bg-danger badge-estado">Cancelada</span>
                                            <span th:case="*" class="badge bg-secondary badge-estado" th:text="${cita.estado.name()}">Estado</span>
                                        </span>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm">
                                            <button class="btn btn-outline-primary btn-atender" 
                                                    th:if="${cita.estado.name() == 'PENDIENTE' or cita.estado.name() == 'PROGRAMADA'}">
                                                <i class="fas fa-stethoscope"></i>
                                            </button>
                                            <button class="btn btn-outline-success btn-completar" 
                                                    th:if="${cita.estado.name() == 'PENDIENTE' or cita.estado.name() == 'PROGRAMADA'}">
                                                <i class="fas fa-check"></i>
                                            </button>
                                            <button class="btn btn-outline-danger btn-cancelar" 
                                                    th:if="${cita.estado.name() == 'PENDIENTE' or cita.estado.name() == 'PROGRAMADA'}">
                                                <i class="fas fa-times"></i>
                                            </button>
                                            <button class="btn btn-outline-info btn-detalles">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Acciones R√°pidas -->
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body text-center">
                        <h5><i class="fas fa-plus-circle text-success me-2"></i>Nueva Cita</h5>
                        <p class="text-muted">Programar una nueva cita con un paciente</p>
                        <button class="btn btn-success" id="btnNuevaCita">
                            <i class="fas fa-plus me-1"></i>Crear Cita
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body text-center">
                        <h5><i class="fas fa-sync-alt text-primary me-2"></i>Sincronizar</h5>
                        <p class="text-muted">Actualizar la agenda con los √∫ltimos cambios</p>
                        <button class="btn btn-primary" onclick="location.reload()">
                            <i class="fas fa-sync-alt me-1"></i>Actualizar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Informaci√≥n del Sistema -->
        <div class="card mt-4">
            <div class="card-body">
                <h6><i class="fas fa-info-circle text-info me-2"></i>Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Usuario:</strong> <span th:text="${medico != null ? medico.nombreCompleto : 'M√©dico'}"></span> | 
                    <strong>√öltima actualizaci√≥n:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span> |
                    <strong>Total de citas cargadas:</strong> <span th:text="${citas != null ? citas.size() : 0}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Filtros de b√∫squeda
        document.addEventListener('DOMContentLoaded', function() {
            const filtroEstado = document.getElementById('filtroEstado');
            const filtroFecha = document.getElementById('filtroFecha');
            const buscarPaciente = document.getElementById('buscarPaciente');
            const btnBuscar = document.getElementById('btnBuscar');
            const btnNuevaCita = document.getElementById('btnNuevaCita');
            
            // Establecer fecha actual como valor por defecto
            const today = new Date().toISOString().split('T')[0];
            filtroFecha.value = today;
            
            // Aplicar colores iniciales
            aplicarColoresEstados();
            
            // Funcionalidad de filtros
            function aplicarFiltros() {
                const estado = filtroEstado.value;
                const fecha = filtroFecha.value;
                const paciente = buscarPaciente.value.toLowerCase();
                
                console.log('Aplicando filtros:', { estado, fecha, paciente });
                
                // Filtrar filas de la tabla
                const filas = document.querySelectorAll('tbody tr');
                filas.forEach(fila => {
                    const estadoFila = fila.querySelector('.badge').textContent.trim().toLowerCase();
                    const nombrePaciente = fila.querySelector('strong').textContent.toLowerCase();
                    const fechaCita = fila.querySelector('td:first-child').textContent;
                    
                    let mostrar = true;
                    
                    if (estado !== 'TODAS' && !estadoFila.includes(estado.toLowerCase())) {
                        mostrar = false;
                    }
                    
                    if (paciente && !nombrePaciente.includes(paciente)) {
                        mostrar = false;
                    }
                    
                    if (fecha) {
                        const fechaFormateada = new Date(fecha).toLocaleDateString('es-ES');
                        if (!fechaCita.includes(fechaFormateada)) {
                            mostrar = false;
                        }
                    }
                    
                    fila.style.display = mostrar ? '' : 'none';
                });
            }
            
            // Event listeners
            filtroEstado.addEventListener('change', aplicarFiltros);
            filtroFecha.addEventListener('change', aplicarFiltros);
            buscarPaciente.addEventListener('input', aplicarFiltros);
            btnBuscar.addEventListener('click', aplicarFiltros);
            
            // Bot√≥n nueva cita
            btnNuevaCita.addEventListener('click', function() {
                simularAccion('Crear nueva cita', 'Sistema');
            });
            
            // Event listeners para botones de acciones
            document.addEventListener('click', function(e) {
                if (e.target.closest('.btn-atender')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Atender', paciente);
                }
                else if (e.target.closest('.btn-completar')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Completar', paciente);
                }
                else if (e.target.closest('.btn-cancelar')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Cancelar', paciente);
                }
                else if (e.target.closest('.btn-detalles')) {
                    const fila = e.target.closest('tr');
                    const paciente = fila.querySelector('strong').textContent;
                    simularAccion('Ver detalles', paciente);
                }
            });
        });
        
        // Aplicar colores a las filas seg√∫n el estado
        function aplicarColoresEstados() {
            const filas = document.querySelectorAll('tbody tr');
            filas.forEach(fila => {
                const estado = fila.querySelector('.badge').textContent.trim();
                
                // Remover clases anteriores
                fila.classList.remove('cita-completada', 'cita-cancelada', 'cita-pendiente');
                
                // Aplicar nueva clase seg√∫n estado
                if (estado === 'Completada' || estado === 'Atendida') {
                    fila.classList.add('cita-completada');
                } else if (estado === 'Cancelada') {
                    fila.classList.add('cita-cancelada');
                } else if (estado === 'Pendiente' || estado === 'Programada') {
                    fila.classList.add('cita-pendiente');
                }
            });
        }
        
        // Simular acciones de botones
        function simularAccion(accion, paciente) {
            alert(`Acci√≥n: ${accion}\nPaciente: ${paciente}\n\nEsta funcionalidad est√° en desarrollo.`);
            return false;
        }
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\medico\buscar.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Buscar M√©dicos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Buscar M√©dicos</h2>
        
        <!-- Formulario de B√∫squeda -->
        <div class="card mb-4">
            <div class="card-body">
                <form th:action="@{/medico/buscar}" method="get">
                    <div class="row">
                        <div class="col-md-6">
                            <label for="nombre" class="form-label">Buscar por Nombre</label>
                            <input type="text" class="form-control" id="nombre" name="nombre" 
                                   th:value="${param.nombre}" placeholder="Ingrese nombre del m√©dico">
                        </div>
                        <div class="col-md-6">
                            <label for="especialidadId" class="form-label">Buscar por Especialidad</label>
                            <select class="form-select" id="especialidadId" name="especialidadId">
                                <option value="">Todas las especialidades</option>
                                <option th:each="esp : ${especialidades}" 
                                        th:value="${esp.id}" 
                                        th:text="${esp.nombre}"
                                        th:selected="${param.especialidadId != null and param.especialidadId[0] == esp.id}">
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-3">
                        <button type="submit" class="btn btn-primary">Buscar</button>
                        <a th:href="@{/medico/buscar}" class="btn btn-secondary">Limpiar</a>
                    </div>
                </form>
            </div>
        </div>

        <!-- Resultados de B√∫squeda -->
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    M√©dicos Disponibles
                    <span th:if="${medicos != null}" class="badge bg-secondary" th:text="${medicos.size()}"></span>
                </h5>
            </div>
            <div class="card-body">
                <div th:if="${medicos != null and medicos.empty}">
                    <div class="alert alert-warning">No se encontraron m√©dicos con los criterios de b√∫squeda.</div>
                </div>
                
                <div th:if="${medicos != null and !medicos.empty}">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Especialidad</th>
                                    <th>Email</th>
                                    <th>Tel√©fono</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each="medico : ${medicos}">
                                    <td th:text="${medico.nombreCompleto}"></td>
                                    <td th:text="${medico.especialidadNombre} ?: 'Sin especialidad'"></td>
                                    <td th:text="${medico.persona.email} ?: '-'"></td>
                                    <td th:text="${medico.persona.telefono} ?: '-'"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navegaci√≥n -->
        <div class="mt-3">
            <a th:href="@{/}" class="btn btn-outline-secondary">Inicio</a>
            <a th:href="@{/paciente/buscar-medicos}" class="btn btn-outline-primary ms-2">Buscar como Paciente</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\medico\mis-pacientes.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Pacientes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h1>üë• Mis Pacientes</h1>
                <p class="text-muted mb-0" th:if="${medico != null}">
                    Dr. <span th:text="${medico.nombreCompleto}"></span> - 
                    <span th:text="${medico.especialidadNombre}"></span>
                </p>
            </div>
            <div>
                <a th:href="@{/medico/agenda}" class="btn btn-primary">üìÖ Mi Agenda</a>
                <a th:href="@{/medico/perfil}" class="btn btn-secondary">‚Üê Mi Perfil</a>
            </div>
        </div>

        <!-- Estad√≠sticas -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Resumen de Pacientes</h5>
                        <p class="card-text">
                            Has atendido a <strong th:text="${totalPacientes}">0</strong> pacientes en total.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Pacientes -->
        <div th:if="${pacientes != null and !pacientes.empty}">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="card-title mb-0">üìã Lista de Pacientes Atendidos</h5>
                    <span class="badge bg-primary" th:text="'Total: ' + ${totalPacientes}"></span>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <div th:each="paciente : ${pacientes}" class="list-group-item">
                            <div class="row">
                                <div class="col-md-8">
                                    <h6 th:text="${paciente.nombreCompleto}">Nombre del Paciente</h6>
                                    <p class="mb-1">
                                        <strong>DNI:</strong> 
                                        <span th:text="${paciente.dni}">DNI</span>
                                    </p>
                                    <p class="mb-1">
                                        <strong>Seguro M√©dico:</strong> 
                                        <span th:text="${paciente.seguroMedico != null ? paciente.seguroMedico : 'No especificado'}"
                                              class="badge bg-info"></span>
                                    </p>
                                    <p class="mb-0">
                                        <strong>Contacto:</strong> 
                                        <span th:if="${paciente.persona != null and paciente.persona.telefono != null}"
                                              th:text="${paciente.persona.telefono}">Tel√©fono</span>
                                        <span th:if="${paciente.persona == null or paciente.persona.telefono == null}"
                                              class="text-muted">No disponible</span>
                                    </p>
                                </div>
                                <div class="col-md-4 text-end">
                                    <div class="btn-group">
                                        <button class="btn btn-sm btn-outline-primary">
                                            üìû Contactar
                                        </button>
                                        <button class="btn btn-sm btn-outline-info">
                                            üìã Historial
                                        </button>
                                    </div>
                                    <br>
                                    <small class="text-muted">
                                        √öltima consulta: <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy')}">Fecha</span>
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sin pacientes -->
        <div th:if="${pacientes == null or pacientes.empty}" class="text-center py-5">
            <h4 class="text-muted">No has atendido pacientes a√∫n</h4>
            <p class="text-muted">Los pacientes que atiendas aparecer√°n en esta lista</p>
            <a th:href="@{/}" class="btn btn-primary">üè† Volver al Inicio</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\medico\pacientes.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Pacientes - M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/medico/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/medico/pacientes}">Mis Pacientes</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">üë• Mis Pacientes</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${medico}">
                    <h5>Dr. <span th:text="${medico.persona.nombre + ' ' + medico.persona.apellido}"></span></h5>
                    <p class="text-muted" th:text="${mensaje}">Funcionalidad en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Lista de pacientes asignados</li>
                            <li>‚úÖ Historial m√©dico por paciente</li>
                            <li>‚úÖ Gesti√≥n de tratamientos</li>
                            <li>‚úÖ Comunicaci√≥n con pacientes</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/medico/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\medico\perfil.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Perfil - M√©dico</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .profile-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .stat-card {
            transition: transform 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .action-card {
            transition: all 0.3s;
            border: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .action-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Header con Informaci√≥n del M√©dico -->
        <div class="profile-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1>üë®‚Äç‚öïÔ∏è Mi Perfil M√©dico</h1>
                    <p class="lead mb-0" th:if="${medico != null}">
                        Dr. <span th:text="${medico.nombreCompleto}"></span>
                    </p>
                    <p th:if="${medico != null}">
                        <span class="badge bg-light text-dark" th:text="${medico.especialidadNombre}"></span>
                    </p>
                </div>
                <div class="col-md-4 text-end">
                    <a th:href="@{/}" class="btn btn-light">üè† Inicio</a>
                    <a th:href="@{/logout}" class="btn btn-outline-light">üö™ Cerrar Sesi√≥n</a>
                </div>
            </div>
        </div>

        <!-- Tarjeta de Informaci√≥n Personal -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0">üìã Informaci√≥n Personal</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Nombre Completo:</strong> 
                            <span th:text="${medico.nombreCompleto}"></span>
                        </p>
                        <p><strong>Especialidad:</strong> 
                            <span class="badge bg-info" th:text="${medico.especialidadNombre}"></span>
                        </p>
                        <p th:if="${medico.persona != null and medico.persona.email != null}">
                            <strong>Email:</strong> 
                            <span th:text="${medico.persona.email}"></span>
                        </p>
                    </div>
                    <div class="col-md-6">
                        <p th:if="${medico.persona != null and medico.persona.telefono != null}">
                            <strong>Tel√©fono:</strong> 
                            <span th:text="${medico.persona.telefono}"></span>
                        </p>
                        <p th:if="${medico.persona != null and medico.persona.dni != null}">
                            <strong>DNI:</strong> 
                            <span th:text="${medico.persona.dni}"></span>
                        </p>
                        <p th:if="${medico.persona != null and (medico.persona.distrito != null or medico.persona.provincia != null)}">
                            <strong>Ubicaci√≥n:</strong> 
                            <span th:text="${medico.persona.distrito + ', ' + medico.persona.provincia}"></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Estad√≠sticas R√°pidas -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalCitas != null ? totalCitas : 0}" class="text-primary">0</h2>
                        <p class="card-text">Total Citas</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${totalPacientes != null ? totalPacientes : 0}" class="text-success">0</h2>
                        <p class="card-text">Pacientes Atendidos</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="${medico.especialidadNombre != null ? 'Especialista' : 'General'}" 
                            class="text-info">Especialidad</h2>
                        <p class="card-text">√Årea M√©dica</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card stat-card text-center">
                    <div class="card-body">
                        <h2 th:text="'Activo'" class="text-success">Estado</h2>
                        <p class="card-text">Disponible</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS - SOLO MI AGENDA Y MIS PACIENTES -->
        <h4 class="mb-3">üöÄ Acciones R√°pidas</h4>
        <div class="row mb-4">
            <!-- Mi Agenda -->
            <div class="col-md-6 mb-3">
                <div class="card action-card h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <span style="font-size: 2.5rem;">üìÖ</span>
                        </div>
                        <h5 class="card-title">Mi Agenda</h5>
                        <p class="card-text">Gestiona tus citas y consultas programadas</p>
                        <a th:href="@{/medico/agenda}" class="btn btn-primary">
                            Ver Agenda Completa
                        </a>
                    </div>
                </div>
            </div>

            <!-- Mis Pacientes -->
            <div class="col-md-6 mb-3">
                <div class="card action-card h-100">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <span style="font-size: 2.5rem;">üë•</span>
                        </div>
                        <h5 class="card-title">Mis Pacientes</h5>
                        <p class="card-text">Lista de pacientes que has atendido</p>
                        <a th:href="@{/medico/mis-pacientes}" class="btn btn-info">
                            Ver Pacientes
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mensajes de Error -->
        <div th:if="${error}" class="alert alert-danger mt-4" role="alert">
            <h5>‚ö†Ô∏è Error</h5>
            <p class="mb-0" th:text="${error}"></p>
        </div>

        <!-- Mensajes de √âxito -->
        <div th:if="${param.exito}" class="alert alert-success mt-4" role="alert">
            <h5>‚úÖ √âxito</h5>
            <p class="mb-0">Operaci√≥n realizada correctamente</p>
        </div>

        <!-- Informaci√≥n Adicional -->
        <div class="card mt-4">
            <div class="card-body">
                <h6>üí° Informaci√≥n del Sistema</h6>
                <p class="mb-0 small text-muted">
                    <strong>Usuario:</strong> medico01 | 
                    <strong>Rol:</strong> M√©dico | 
                    <strong>√öltimo acceso:</strong> <span th:text="${#dates.format(new java.util.Date(), 'dd/MM/yyyy HH:mm')}"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Efectos simples para mejorar la experiencia
        document.addEventListener('DOMContentLoaded', function() {
            // Agregar efecto de carga a las tarjetas
            const cards = document.querySelectorAll('.action-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\paciente\buscar-medicos.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Buscar M√©dicos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .medico-card {
            transition: transform 0.2s;
            border-left: 4px solid #0d6efd;
        }
        .medico-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>Buscar M√©dicos</h1>
            <a th:href="@{/paciente/perfil}" class="btn btn-outline-secondary">
                ‚Üê Volver al Perfil
            </a>
        </div>

        <!-- Formulario de B√∫squeda -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">Criterios de B√∫squeda</h5>
            </div>
            <div class="card-body">
                <form th:action="@{/paciente/buscar-medicos}" method="get">
                    <div class="row g-3">
                        <!-- B√∫squeda por Nombre -->
                        <div class="col-md-6">
                            <label class="form-label">Buscar por Nombre</label>
                            <input type="text" name="nombre" class="form-control" 
                                   th:value="${nombreBuscado}" 
                                   placeholder="Ingrese nombre del m√©dico">
                        </div>
                        
                        <!-- B√∫squeda por Especialidad -->
                        <div class="col-md-6">
                            <label class="form-label">Buscar por Especialidad</label>
                            <select name="especialidadId" class="form-control">
                                <option value="">Todas las especialidades</option>
                                <option th:each="esp : ${especialidades}" 
                                        th:value="${esp.id}" 
                                        th:text="${esp.nombre}"
                                        th:selected="${especialidadSeleccionada == esp.id}">
                                </option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Botones -->
                    <div class="row mt-3">
                        <div class="col-md-12">
                            <button type="submit" class="btn btn-primary">
                                üîç Buscar
                            </button>
                            <a th:href="@{/paciente/buscar-medicos}" class="btn btn-outline-secondary">
                                üóëÔ∏è Limpiar
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Resultados -->
        <div th:if="${medicos != null}">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h2>M√©dicos Disponibles</h2>
                <span class="badge bg-primary" th:text="'Encontrados: ' + ${medicos.size()}"></span>
            </div>

            <!-- Mensaje si no hay resultados -->
            <div th:if="${medicos.empty}" class="alert alert-warning">
                No se encontraron m√©dicos con los criterios de b√∫squeda seleccionados.
            </div>

            <!-- Lista de M√©dicos -->
            <div th:each="medico : ${medicos}" class="card medico-card mb-3">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-8">
                            <h5 class="card-title" th:text="${medico.nombreCompleto}">Nombre del M√©dico</h5>
                            <p class="card-text mb-1">
                                <strong>Especialidad:</strong> 
                                <span class="badge bg-info" th:text="${medico.especialidadNombre}">Especialidad</span>
                            </p>
                            <p class="card-text mb-1" th:if="${medico.persona?.email}">
                                <strong>Email:</strong> 
                                <span th:text="${medico.persona.email}">email@ejemplo.com</span>
                            </p>
                            <p class="card-text mb-1" th:if="${medico.persona?.telefono}">
                                <strong>Tel√©fono:</strong> 
                                <span th:text="${medico.persona.telefono}">900000000</span>
                            </p>
                        </div>
                        <div class="col-md-4 text-end">
                            <button class="btn btn-success btn-sm">
                                üìÖ Solicitar Cita
                            </button>
                            <br>
                            <small class="text-muted">Disponible para consulta</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Informaci√≥n del Paciente (contexto) -->
        <div class="card mt-4">
            <div class="card-body bg-light">
                <h6>Buscando como Paciente:</h6>
                <p class="mb-0" th:if="${paciente != null}">
                    <strong th:text="${paciente.nombreCompleto}"></strong> | 
                    <span th:text="${paciente.seguroMedico} ?: 'Sin seguro m√©dico'"></span>
                </p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\paciente\citas.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mis Citas - Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/paciente/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/paciente/citas}">Mis Citas</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-info text-white">
                <h4 class="mb-0">üìÖ Mis Citas M√©dicas</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${paciente}">
                    <h5 th:text="'Paciente: ' + ${paciente.persona.nombre} + ' ' + ${paciente.persona.apellido}"></h5>
                    <p class="text-muted" th:text="${mensaje}">Funcionalidad de citas en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Ver citas programadas</li>
                            <li>‚úÖ Cancelar o reprogramar citas</li>
                            <li>‚úÖ Recordatorios autom√°ticos</li>
                            <li>‚úÖ Historial de citas pasadas</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/paciente/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\paciente\editar-perfil.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Editar Perfil - Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/paciente/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/paciente/editar}">Editar Perfil</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-warning text-white">
                <h4 class="mb-0">‚úèÔ∏è Editar Mi Perfil</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${paciente}">
                    <h5 th:text="'Paciente: ' + ${paciente.persona.nombre} + ' ' + ${paciente.persona.apellido}"></h5>
                    <p class="text-muted">Funcionalidad de edici√≥n de perfil en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Actualizar datos de contacto</li>
                            <li>‚úÖ Modificar informaci√≥n m√©dica</li>
                            <li>‚úÖ Cambiar direcci√≥n</li>
                            <li>‚úÖ Actualizar seguro m√©dico</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/paciente/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\paciente\historial.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mi Historial - Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#">Hospital Virtual</a>
                <div class="navbar-nav">
                    <a class="nav-link" th:href="@{/paciente/perfil}">‚Üê Mi Perfil</a>
                    <a class="nav-link active" th:href="@{/paciente/historial}">Mi Historial</a>
                </div>
            </div>
        </nav>

        <div class="card">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">üìã Mi Historial M√©dico</h4>
            </div>
            <div class="card-body text-center">
                <div th:if="${paciente}">
                    <h5 th:text="'Paciente: ' + ${paciente.persona.nombre} + ' ' + ${paciente.persona.apellido}"></h5>
                    <p class="text-muted" th:text="${mensaje}">Funcionalidad de historial en desarrollo</p>
                    
                    <div class="alert alert-info mt-4">
                        <h6>Pr√≥ximamente:</h6>
                        <ul class="list-unstyled">
                            <li>‚úÖ Ver consultas anteriores</li>
                            <li>‚úÖ Historial de diagn√≥sticos</li>
                            <li>‚úÖ Recetas y tratamientos</li>
                            <li>‚úÖ Resultados de ex√°menes</li>
                        </ul>
                    </div>
                    
                    <a th:href="@{/paciente/perfil}" class="btn btn-secondary mt-3">Volver al Perfil</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\paciente\perfil.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Perfil del Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>Mi Perfil - Paciente</h1>
            <a th:href="@{/}" class="btn btn-outline-secondary">Cerrar Sesi√≥n</a>
        </div>

        <!-- Tarjeta de Perfil -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">Informaci√≥n Personal</h5>
            </div>
            <div class="card-body">
                <div th:if="${paciente != null}">
                    <p><strong>Nombre:</strong> <span th:text="${paciente.nombreCompleto}"></span></p>
                    <p><strong>DNI:</strong> <span th:text="${paciente.dni}"></span></p>
                    <p><strong>Seguro M√©dico:</strong> <span th:text="${paciente.seguroMedico}"></span></p>
                </div>
                <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
            </div>
        </div>

        <!-- ACCIONES R√ÅPIDAS -->
        <div class="row">
            <!-- Buscar M√©dicos -->
            <div class="col-md-4 mb-3">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">Buscar M√©dicos</h5>
                        <p class="card-text">Encuentra especialistas seg√∫n tus necesidades m√©dicas.</p>
                        <a th:href="@{/paciente/buscar-medicos}" class="btn btn-primary">
                            Buscar M√©dicos
                        </a>
                    </div>
                </div>
            </div>

            <!-- Mis Citas -->
            <div class="col-md-4 mb-3">
                <div class="card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">Mis Citas</h5>
                        <p class="card-text">Gestiona tus citas m√©dicas programadas.</p>
                        <!-- BOT√ìN CORREGIDO -->
                        <a th:href="@{/citas/mis-citas}" class="btn btn-info">
                            üìÖ Ver Mis Citas
                        </a>
                    </div>
                </div>
            </div>

            <!-- Mi Historial -->
			<div class="col-md-4 mb-3">
			    <div class="card h-100">
			        <div class="card-body text-center">
			            <h5 class="card-title">Mi Historial</h5>
			            <p class="card-text">Consulta tu historial m√©dico completo.</p>
			            <!-- BOT√ìN CORREGIDO -->
			            <a th:href="@{/historial/mi-historial}" class="btn btn-warning">
			                üìã Ver Mi Historial
			            </a>
			        </div>
			    </div>
			</div>
        </div>

        <!-- Botones adicionales -->
        <div class="mt-4">
            <a th:href="@{/paciente/editar}" class="btn btn-outline-primary">Editar Perfil</a>
            <a th:href="@{/}" class="btn btn-outline-secondary ms-2">Volver al Inicio</a>
            <!-- BOT√ìN ALTERNATIVO PARA CITAS -->
            <a th:href="@{/citas/mis-citas}" class="btn btn-primary ms-2">üìÖ Ir a Mis Citas</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\templates\paciente\registro.html 
================================= 
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registro de Paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3 class="text-center">Completar Perfil de Paciente</h3>
                    </div>
                    <div class="card-body">
                        <!-- Mensajes de √©xito/error -->
                        <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
                        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

                        <form th:action="@{/paciente/registrar}" method="post">
                            <div class="mb-3">
                                <label for="dni" class="form-label">DNI *</label>
                                <input type="text" class="form-control" id="dni" name="dni" 
                                       pattern="[0-9]{8}" title="8 d√≠gitos num√©ricos" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="nombre" class="form-label">Nombres *</label>
                                <input type="text" class="form-control" id="nombre" name="nombre" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="apellido" class="form-label">Apellidos *</label>
                                <input type="text" class="form-control" id="apellido" name="apellido" required>
                            </div>
                            
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">Completar Registro</button>
                            </div>
                        </form>
                        
                        <div class="mt-3 text-center">
                            <a th:href="@{/}" class="btn btn-secondary">Volver al Inicio</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\pom.xml 
================================= 
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>3.5.7</version>
		<relativePath/> <!-- lookup parent from repository -->
	</parent>
	<groupId>com.cibertec.proyecto</groupId>
	<artifactId>administrador</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<name>administrador</name>
	<description>Demo project for Spring Boot</description>
	<url/>
	<licenses>
		<license/>
	</licenses>
	<developers>
		<developer/>
	</developers>
	<scm>
		<connection/>
		<developerConnection/>
		<tag/>
		<url/>
	</scm>
	<properties>
		<java.version>17</java.version>
	</properties>
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-thymeleaf</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-devtools</artifactId>
			<scope>runtime</scope>
			<optional>true</optional>
		</dependency>
		<dependency>
			<groupId>com.mysql</groupId>
			<artifactId>mysql-connector-j</artifactId>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>

</project>
 
 
================================= 
ARCHIVO: F:\CIBERTEC\2025\Ciclo 4\lenguaje_de_programacion_ii\Proyecto\Avances\Codigo\Misael\administrador\target\classes\META-INF\maven\com.cibertec.proyecto\administrador\pom.xml 
================================= 
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>3.5.7</version>
		<relativePath/> <!-- lookup parent from repository -->
	</parent>
	<groupId>com.cibertec.proyecto</groupId>
	<artifactId>administrador</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<name>administrador</name>
	<description>Demo project for Spring Boot</description>
	<url/>
	<licenses>
		<license/>
	</licenses>
	<developers>
		<developer/>
	</developers>
	<scm>
		<connection/>
		<developerConnection/>
		<tag/>
		<url/>
	</scm>
	<properties>
		<java.version>17</java.version>
	</properties>
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-thymeleaf</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-devtools</artifactId>
			<scope>runtime</scope>
			<optional>true</optional>
		</dependency>
		<dependency>
			<groupId>com.mysql</groupId>
			<artifactId>mysql-connector-j</artifactId>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>

	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>

</project>
 
